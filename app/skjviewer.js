var g,n=this;function p(a){return void 0!==a}
function aa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function q(a){return"array"==aa(a)}function ba(a){var b=aa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function u(a){return"string"==typeof a}function v(a){return"number"==typeof a}function w(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var ca="closure_uid_"+(1E9*Math.random()>>>0),da=0;function ea(a,b,c){return a.call.apply(a.bind,arguments)}
function fa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function y(a,b,c){y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ea:fa;return y.apply(null,arguments)}var ga=Date.now||function(){return+new Date};
function A(a,b){var c=a.split("."),d=n;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&p(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function B(a,b){function c(){}c.prototype=b.prototype;a.od=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.lh=function(a,c,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[c].apply(a,h)}};function C(a){this.tag=a;this.Fe=!0;this.Dc=""}var E=null,ha=null;g=C.prototype;g.ee=function(a){this.Dc=a};g.ib=function(){return 0};g.Cb=function(){return!1};g.xc=function(){return!1};g.da=function(){return!1};function ia(a){if(.5>a)return a*=2,.5*a*a*a;a=2*(1-a);return 1-.5*a*a*a};function ja(a){C.call(this,a);this.u=[]}B(ja,C);g=ja.prototype;g.ib=function(){for(var a=0,b=0,c=this.u.length;b<c;b++)a=Math.max(a,this.u[b].ib());return a};g.ee=function(a){this.Dc=a;for(var b=0,c=this.u.length;b<c;b++)this.u[b].ee(a+"_"+b)};g.add=function(a){this.u.push(a)};g.Cb=function(){for(var a=!1,b=0,c=this.u.length;b<c;b++)a=this.u[b].Cb()||a;return a};g.xc=function(a){for(var b=!1,c=0,d=this.u.length;c<d;c++)b=this.u[c].xc(a)||b;return b};
g.da=function(){for(var a=!1,b=0,c=this.u.length;b<c;b++)a=this.u[b].da()||a;return a};function ka(a,b){C.call(this,b);this.Fa=Math.max(0,a)}B(ka,C);ka.prototype.ib=function(){return this.Fa};A("sketchup.api.events.ON_MODEL_VIEWABLE","api_model_viewable");A("sketchup.api.events.ON_LOAD_COMPLETE","api_on_load_complete");A("sketchup.api.events.ON_LOAD_FAILED","api_on_load_failed");var la={yg:"Point3",zg:"Size",Ag:"Vector3",Bg:"Viewer"};A("sketchup.api.TypeName",la);function F(a,b){this.w=a;this.h=b}A("sketchup.api.Size",F);F.prototype.clone=function(){return new F(this.w,this.h)};F.prototype.clone=F.prototype.clone;F.prototype.copy=function(a){this.w=a.w;this.h=a.h};F.prototype.copy=F.prototype.copy;F.prototype.typeName="Size";F.prototype.typeName=F.prototype.typeName;F.prototype.set=function(a,b){this.w=a;this.h=b};F.prototype.set=F.prototype.set;F.prototype.te=function(){return this.w/this.h};F.prototype.aspectRatio=F.prototype.te;
F.prototype.equals=function(a){return null!=a?this.w==a.w&&this.h==a.h:!1};F.prototype.equals=F.prototype.equals;function G(a,b,c){this.x=a;this.y=b;this.z=c}G.prototype.typeName="Vector3";A("sketchup.api.Vector3.prototype.typeName",G.prototype.typeName);G.prototype.set=function(a,b,c){q(a)?(this.x=a[0],this.y=a[1],this.z=a[2]):a&&a.typeName&&"Vector3"==a.typeName?(this.x=a.x,this.y=a.y,this.z=a.z):v(a)&&(this.x=Number(a),this.y=Number(b),this.z=Number(c))};A("sketchup.api.Vector3.prototype.set",G.prototype.set);function ma(a,b,c){a.x=b.x-c.x;a.y=b.y-c.y;a.z=b.z-c.z}
function na(a,b,c){var d=b.x,e=b.y;b=b.z;var f=c.x,h=c.y;c=c.z;a.x=e*c-b*h;a.y=b*f-d*c;a.z=d*h-e*f}g=G.prototype;g.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};g.Pe=function(){return this.x*this.x+this.y*this.y+this.z*this.z};g.toArray=function(){return[this.x,this.y,this.z]};g.toString=function(){return"["+parseFloat(this.x.toFixed(3))+", "+parseFloat(this.y.toFixed(3))+", "+parseFloat(this.z.toFixed(3))+"]"};
g.normalize=function(){var a=this.getLength();this.x/=a;this.y/=a;this.z/=a;return this};g.clone=function(){return new G(this.x,this.y,this.z)};g.copy=function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this};g.reverse=function(){this.x*=-1;this.y*=-1;this.z*=-1;return this};g.add=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this};g.scale=function(a){this.x*=a;this.y*=a;this.z*=a;return this};
g.equals=function(a){if(null==a)return!1;var b=0,c=0,d=0;q(a)?(b=a[0],c=a[1],d=a[2]):(b=a.x,c=a.y,d=a.z);return this.x==b&&this.y==c&&this.z==d};function oa(a,b){return a.x*b.x+a.y*b.y+a.z*b.z};function pa(){}A("sketchup.api.ViewerOptions",pa);pa.prototype.sg=void 0;pa.prototype.skjAssetsBasePath=pa.prototype.sg;pa.prototype.ug=void 0;pa.prototype.uiAssetsBasePath=pa.prototype.ug;function qa(a,b){this.de=a;this.M=b}A("sketchup.api2.Scene",qa);qa.prototype.ag=function(){return this.de};qa.prototype.getId=qa.prototype.ag;qa.prototype.getName=function(){return this.M};qa.prototype.getName=qa.prototype.getName;function ra(){this.backgroundColor=[1,1,1];this.ca=[.75,.75,1];this.aa=[.75,.75,1];this.fb=!0}ra.prototype.Aa=function(a){this.backgroundColor[0]=a[0];this.backgroundColor[1]=a[1];this.backgroundColor[2]=a[2]};ra.prototype.Ba=function(a){this.ca[0]=a[0];this.ca[1]=a[1];this.ca[2]=a[2]};ra.prototype.md=function(a){this.aa[0]=a[0];this.aa[1]=a[1];this.aa[2]=a[2]};
ra.prototype.equals=function(a){return this===a?!0:this.backgroundColor[0]==a.backgroundColor[0]&&this.backgroundColor[1]==a.backgroundColor[1]&&this.backgroundColor[2]==a.backgroundColor[2]&&this.ca[0]==a.ca[0]&&this.ca[1]==a.ca[1]&&this.ca[1]==a.ca[1]&&this.aa[0]==a.aa[0]&&this.aa[1]==a.aa[1]&&this.aa[1]==a.aa[1]&&this.fb==a.fb};function sa(a,b,c,d){C.call(this,d);this.Cd=!1;this.Fa=Math.max(0,c);this.xf=a;this.Dd=b;this.uc=0;this.ke=0<this.Fa?1/this.Fa:0;this.La=new ra;this.Db=new ra}B(sa,C);var ta=new ra;sa.prototype.ib=function(){return this.Fa};sa.prototype.Cb=function(a){var b=E;this.uc=a;a=!1;null!=this.xf?(ua(this.xf,this.La),E.rd(this.La),a=!0):b.nf(this.La);ua(this.Dd,this.Db);this.Cd=!this.La.equals(this.Db);return a};
sa.prototype.xc=function(a){return this.Cd?(a=(a-this.uc)*this.ke,a=Math.min(1,a),this.Fe&&(a=ia(a)),va(this.La.backgroundColor,this.Db.backgroundColor,a,ta.backgroundColor),va(this.La.ca,this.Db.ca,a,ta.ca),va(this.La.aa,this.Db.aa,a,ta.aa),ta.fb=this.La.fb,E.rd(ta),!0):!1};sa.prototype.da=function(){return this.Cd?(E.rd(this.Db),!0):!1};function ua(a,b){var c=ha.Z();a in c&&(c=c[a],b.Aa(c.Lb()),b.Ba(c.Ob()),b.md(c.Mb()),b.fb=c.Rb)}
function va(a,b,c,d){var e=1-c;d[0]=e*a[0]+c*b[0];d[1]=e*a[1]+c*b[1];d[2]=e*a[2]+c*b[2]};function wa(a,b){C.call(this,b);this.Dd=a}B(wa,C);wa.prototype.Cb=function(){var a=E,b=xa(ha,this.Dd);b&&(a.Nc=0!=b.Mc);return!0};A("sketchup.PRECISION",3);function H(a,b,c){this.x=a;this.y=b;this.z=c}A("sketchup.api.Point3",H);H.prototype.typeName="Point3";H.prototype.typeName=H.prototype.typeName;H.prototype.set=function(a,b,c){q(a)?(this.x=a[0],this.y=a[1],this.z=a[2]):a&&a.typeName&&"Point3"==a.typeName?(this.x=a.x,this.y=a.y,this.z=a.z):v(a)&&(this.x=Number(a),this.y=Number(b),this.z=Number(c))};H.prototype.set=H.prototype.set;function ya(a,b,c){a.x=b.x+c.x;a.y=b.y+c.y;a.z=b.z+c.z}H.prototype.toArray=function(){return[this.x,this.y,this.z]};
H.prototype.toArray=H.prototype.toArray;H.prototype.equals=function(a){if(null==a)return!1;var b=0,c=0,d=0;q(a)?(b=a[0],c=a[1],d=a[2]):(b=a.x,c=a.y,d=a.z);return this.x==b&&this.y==c&&this.z==d};H.prototype.equals=H.prototype.equals;H.prototype.move=function(a){q(a)?(this.x+=a[0],this.y+=a[1],this.z+=a[2]):(this.x+=a.x,this.y+=a.y,this.z+=a.z);return this};H.prototype.move=H.prototype.move;H.prototype.clone=function(){return new H(this.x,this.y,this.z)};H.prototype.clone=H.prototype.clone;
H.prototype.copy=function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this};H.prototype.toString=function(){return"["+parseFloat(this.x.toFixed(3))+", "+parseFloat(this.y.toFixed(3))+", "+parseFloat(this.z.toFixed(3))+"]"};H.prototype.toString=H.prototype.toString;H.difference=function(a,b){return new G(a.x-b.x,a.y-b.y,a.z-b.z)};H.add=function(a,b){return new H(a.x+b.x,a.y+b.y,a.z+b.z)};H.prototype.lerp=function(a,b,c){var d=1-c;this.x=d*a.x+c*b.x;this.y=d*a.y+c*b.y;this.z=d*a.z+c*b.z;return this};
H.prototype.lerp=H.prototype.lerp;function za(){this.canvas=null;this.xe=this.we=0;this.Se=!0;this.v=new H(0,0,0);this.Hc=this.Ic=0;this.R=new H(0,0,0);this.N=new G(0,0,0);this.De=new G(0,0,0);this.Ee=new G(0,0,0)};function Aa(){};A("sketchup.ToolName",{Qg:"Orbit",Rg:"Pan",kh:"Zoom"});A("sketchup.TypeName",{Cg:"iBaseNode",Dg:"iBox3",Eg:"iCamera",Fg:"iCameraTool",Gg:"iDepthPicker",Hg:"iErrorLogger",Ig:"iFaceCameraNode",Jg:"iGeometryNode",Kg:"iGroupNode",Mg:"iInstanceNode",Ng:"iLayer",Og:"iMatrix3",Pg:"iModel",Sg:"iPlane",Tg:"iRenderManagerThreejs",Ug:"iScene",Wg:"iSgCompilerThreejs",Xg:"iSgManager",Yg:"iSimpleMesh",Zg:"iSimpleTextureMaterial",$g:"iSkjAssetResolver",ah:"iSkjReader",bh:"iSolidColorMaterial",dh:"iStyle",eh:"iTextureManager",fh:"iTool",gh:"iToolManager",hh:"iVertexColorMaterial",
ih:"iViewer",jh:"iVisual"});function Ba(a){this.v=new H(0,0,0);this.mb=!1;this.U=new F(0,0);this.fov=50;p(a)&&a?this.quaternion=new THREE.Quaternion:(this.H=new G(0,1,0),this.B=new G(0,0,100))};function Ca(){this.fd=new H(50,50,50);this.pd=new H(0,0,0);this.qd=new G(0,1,0)}g=Ca.prototype;g.typeName="iCamera";g.fd=null;g.pd=null;g.qd=null;g.hf=45;g.Wd=50;g.Sa=!0;
g.G=function(a){if(!w(a))return!1;var b=a.position;if(!q(b)||3>b.length)return!1;this.fd=new H;this.fd.set(b);b=a.lookAt;if(!q(b)||3>b.length)return!1;this.pd=new H;this.pd.set(b);b=a.upVector;if(!q(b)||3>b.length)return!1;this.qd=new G;this.qd.set(b);b=a.type;if(!u(b))return!1;if("perspective"==b){this.Sa=!0;a=a.fov;if(!v(a)||1>a||120<a)return!1;this.hf=a}else if("orthographic"==b){this.Sa=!1;a=a.frustumHeight;if(!v(a))return!1;this.Wd=a}else return!1;return!0};g.position=function(){return this.fd};
g.target=function(){return this.pd};g.up=function(){return this.qd};g.fov=function(){return this.Sa?this.hf:0};function Da(){}g=Da.prototype;g.typeName="iLayer";g.M="";g.td=!0;g.G=function(a){if(!w(a))return!1;this.td=a.visible;p(this.td)||(this.td=!0);a=a.name;this.M=u(a)?a:"Untitled";return!0};g.getName=function(){return this.M};function Ea(){this.xb=0;this.lines=this.ka=this.ab=this.hb=this.normals=this.positions=null}Ea.prototype.typeName="iSimpleMesh";
Ea.prototype.G=function(a){if(!p(a.type)||"simple-mesh"!=a.type)return!1;this.xb=a.size;if(!v(this.xb)||!q(a.vertices))return!1;this.positions=new Float32Array(a.vertices);q(a.normals)&&(this.normals=new Float32Array(a.normals));this.hb=null;q(a.frontUV)&&(this.hb=new Float32Array(a.frontUV));this.ab=null;q(a.backUV)&&(this.ab=new Float32Array(a.backUV));this.ka=null;var b;if(b=w(a.triangles)){b=a.triangles;var c=b.count;v(c)&&q(b.indices)?(this.ka=new Uint16Array(b.indices),b=this.ka.length==3*c):
b=!1;b=!b}if(b)return!1;this.lines=null;if(b=w(a.lines))a=a.lines,b=a.count,v(b)&&q(a.indices)?(this.lines=new Uint16Array(a.indices),a=this.lines.length==2*b):a=!1,b=!a;return b?!1:Fa(this)};
function Fa(a){if(null===a.positions||null===a.lines&&(null===a.ka||null===a.normals))return!1;var b=3*a.xb;if(a.positions.length!=b||null!==a.normals&&a.normals.length!=b||null!==a.hb&&a.hb.length!=2*a.xb||null!==a.ab&&a.ab.length!=2*a.xb)return!1;if(null!==a.ka)for(b=0;b<a.ka.length;++b)if(0>a.ka[b]||a.ka[b]>a.xb-1)return!1;if(null!==a.lines)for(b=0;b<a.lines.length;++b)if(0>a.lines[b]||a.lines[b]>a.xb-1)return!1;return!0};function Ga(a,b){this.J=new H(0,0,0);this.I=new H(0,0,0);null!=a&&null!=b&&this.set(a,b)}g=Ga.prototype;g.typeName="iBox3";g.set=function(a,b){var c=0,d=0,e=0,f=0,h=0,k=0;q(a)?(c=a[0],d=a[1],e=a[2]):(c=a.x,d=a.y,e=a.z);q(b)?(f=b[0],h=b[1],k=b[2]):(f=b.x,h=b.y,k=b.z);this.J.set(Math.min(c,f),Math.min(d,h),Math.min(e,k));this.I.set(Math.max(c,f),Math.max(d,h),Math.max(e,k))};g.clone=function(){return new Ga(this.J,this.I)};g.toArray=function(){return[this.J.x,this.J.y,this.J.z,this.I.x,this.I.y,this.I.z]};
g.makeEmpty=function(){this.J.set(0,0,0);this.I.set(0,0,0)};g.Ia=function(){return this.J.equals(this.I)};function Ha(a,b,c,d,e,f,h,k,l){this.elements=new Float64Array(9);p(a)&&this.set(a,b,c,d,e,f,h,k,l)}g=Ha.prototype;g.typeName="iMatrix3";g.set=function(a,b,c,d,e,f,h,k,l){var m=this.elements;m[0]=a;m[3]=b;m[6]=c;m[1]=d;m[4]=e;m[7]=f;m[2]=h;m[5]=k;m[8]=l;return this};g.identity=function(){this.set(1,0,0,0,1,0,0,0,1);return this};g.determinant=function(){var a=this.elements,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],h=a[5],k=a[6],l=a[7],a=a[8];return b*f*a-b*h*l-c*e*a+c*h*k+d*e*l-d*f*k};
g.copy=function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8]);return this};g.clone=function(){var a=this.elements;return new Ha(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])};function Ia(a,b){q(a)?this.position=new H(a[0],a[1],a[2]):this.position=new H(a.x,a.y,a.z);q(b)?this.normal=new G(b[0],b[1],b[2]):this.normal=new G(b.x,b.y,b.z);this.normal.normalize();this.Zf=1E-4}g=Ia.prototype;g.typeName="iPlane";g.set=function(a,b){this.position.set(a);this.normal.set(b);this.normal.normalize()};g.copy=function(a){this.position.set(a.position.x,a.position.y,a.position.z);this.normal.set(a.normal.x,a.normal.y,a.normal.z);return this};
g.equals=function(a){if(!a||"iPlane"!=a.typeName)throw Error("Plane.equals: a Plane was expected");return this.position.equals(a.position)&&this.normal.equals(a.normal)};
g.distanceToPoint=function(a){if(q(a))return this.normal.x*(a[0]-this.position.x)+this.normal.y*(a[1]-this.position.y)+this.normal.z*(a[2]-this.position.z);if("Point3"==a.typeName)return this.normal.x*(a.x-this.position.x)+this.normal.y*(a.y-this.position.y)+this.normal.z*(a.z-this.position.z);throw Error("In Plane.distanceTo, wrong parameter type: "+a);};
g.offset=function(a){q(a)?(this.position.x+=a[0],this.position.y+=a[1],this.position.z+=a[2]):"Vector3"==a.typeName&&(this.position.x+=a.x,this.position.y+=a.y,this.position.z+=a.z);return this};function I(){THREE.Object3D.call(this);this.Zc=void 0;this.matrixAutoUpdate=this.matrixAutoUpdate;this.matrix=this.matrix;I.prototype.updateMatrixWorld=I.prototype.updateMatrixWorld;I.prototype.clone=I.prototype.clone}var Ja,Ka,La,Ma,Na,Oa;B(I,THREE.Object3D);I.prototype.typeName="iFaceCameraNode";
I.prototype.updateMatrixWorld=function(a){if(null!=Ja){p(this.Zc)||(this.Zc=this.matrix.clone());var b=this.Zc.elements;p(Ka)||(Ka=new THREE.Vector3,La=new THREE.Vector3,Ma=new THREE.Vector3,Na=new THREE.Matrix4,Oa=new THREE.Matrix4);var c=Ka,d=La,e=Ma;a=Na;var f=Oa;c.set(0,0,-1);c.applyQuaternion(Ja.quaternion);d.set(b[8],b[9],b[10]);p(this.parent)&&d.transformDirection(this.parent.matrixWorld);d.normalize();if(!(.9999<Math.abs(c.dot(d)))){e.set(b[4],b[5],b[6]);p(this.parent)&&e.transformDirection(this.parent.matrixWorld);
e.normalize();c.projectOnPlane(d);c.normalize();b=e.angleTo(c);c=0>d.dot(e.cross(c));if(d=p(this.parent))var d=this.parent.matrixWorld.elements,e=new THREE.Vector3(d[0],d[1],d[2]),h=new THREE.Vector3(d[4],d[5],d[6]),d=0>(new THREE.Vector3(d[8],d[9],d[10])).dot(e.cross(h));d&&(c=!c);c&&(b=2*Math.PI-b);c=this.position;a.makeRotationZ(b);f.makeTranslation(-c.x,-c.y,-c.y);a.multiply(f);f.makeTranslation(c.x,c.y,c.y);a.multiplyMatrices(f,a);this.matrix.multiplyMatrices(a,this.Zc)}a=this.matrixAutoUpdate;
this.matrixAutoUpdate=!1;THREE.Object3D.prototype.updateMatrixWorld.call(this,!0);this.matrixAutoUpdate=a}else THREE.Object3D.prototype.updateMatrixWorld.call(this,a)};I.prototype.clone=function(a){void 0===a&&(a=new I);THREE.Object3D.prototype.clone.call(this,a);return a};function Pa(){}g=Pa.prototype;g.Re=function(){};g.render=function(){};g.zc=function(){};g.resize=function(){};g.va=function(){};g.of=function(){};g.pf=function(){};g.Ie=function(){};g.Va=function(){};g.nf=function(){};g.rd=function(){};g.$d=function(){};g.la=function(){};g.Ba=function(){};g.Aa=function(){};g.sc=function(){};g.tf=function(){};g.Ne=function(){};var J={};A("sketchup.shaders",J);J.oh=function(a,b,c){document.write('<script type="text/javascript">sketchup.shaders.loadShader("'+a+'","'+b+'","'+c+'");\x3c/script>')};J.ph=function(a,b,c){var d=new XMLHttpRequest;d.open("GET",a+b+c,!1);d.send(null);J[b]=d.responseText};function Qa(){this.enabled=!1;this.d=null;this.D=[{plane:new THREE.Plane,point:new THREE.Vector3,Na:!1},{plane:new THREE.Plane,point:new THREE.Vector3,Na:!1},{plane:new THREE.Plane,point:new THREE.Vector3,Na:!1},{plane:new THREE.Plane,point:new THREE.Vector3,Na:!1},{plane:new THREE.Plane,point:new THREE.Vector3,Na:!1}];this.Sc=!1;Qa.prototype.init=Qa.prototype.init;Qa.prototype.render=Qa.prototype.render}var Ra,Sa;Qa.prototype.init=function(a){this.d=a;Ra=new THREE.Vector3;Sa=new THREE.Sphere};
Qa.prototype.render=function(a,b){if(this.enabled){var c=a.__webglObjects,c=c.length,d=!0;this.Sc=!1;if(0<c)for(var c=a.__webglObjects,e=0,f=c.length;e<f;e++){var h=c[e].object,k=h.geometry;if(h.visible&&p(k)){if(d){var k=b,l=c[e].object,m=l.geometry.attributes.position.array,d=Ra;d.set(m[0],m[1],m[2]);d.applyMatrix4(l.matrixWorld);l=new THREE.Frustum;m=new THREE.Matrix4;m.multiplyMatrices(k.projectionMatrix,k.matrixWorldInverse);l.setFromMatrix(m);for(k=0;5>k;k++)m=this.D[k].plane,m.copy(l.planes[4==
k?5:k]),m.normal.normalize(),m.constant=-m.normal.dot(d),this.D[k].point.copy(d);d=!1}var r=h.geometry;if(p(r)){for(var z=!0,x=Sa,k=0;5>k;k++)l=this.D[k].plane,l.Na=!1,null!=r.boundingSphere&&(x.copy(r.boundingSphere),x.applyMatrix4(h.matrixWorld),m=l.normal.dot(x.center)+l.constant,l.Na=m>=x.radius),z=z&&l.Na;if(!z)for(var r=r.attributes.position.array,z=r.length,x=Ra,D=0;D<z;D+=9){x.set(r[D],r[D+1],r[D+2]);x.applyMatrix4(h.matrixWorld);for(k=0;5>k;k++)if(l=this.D[k].plane,!l.Na){var t=this.D[k].point,
m=l.normal.dot(x);m<-l.constant&&(l.constant=-m,t.copy(x))}this.Sc=!0}}}}}};
function Ta(a,b,c,d){d.crossVectors(a.plane.normal,b.plane.normal);d.normalize();var e=new Ha;e.set(a.plane.normal.x,a.plane.normal.y,a.plane.normal.z,b.plane.normal.x,b.plane.normal.y,b.plane.normal.z,d.x,d.y,d.z);var f=e.determinant();if(0===f)console.warn("sketchup.util.Three.invertMatrix3: 0 determinant."),e.identity();else{var h=e.elements,f=1/f;e.set((h[4]*h[8]-h[5]*h[7])*f,(h[5]*h[6]-h[8]*h[3])*f,(h[7]*h[3]-h[4]*h[6])*f,(h[2]*h[7]-h[8]*h[1])*f,(h[0]*h[8]-h[2]*h[6])*f,(h[6]*h[1]-h[0]*h[7])*
f,(h[5]*h[1]-h[4]*h[2])*f,(h[3]*h[2]-h[0]*h[5])*f,(h[0]*h[4]-h[1]*h[3])*f)}c.set(-a.plane.constant,-b.plane.constant,a.point.dot(d));a=e.elements;b=a[1]*c.x+a[4]*c.y+a[7]*c.z;d=a[2]*c.x+a[5]*c.y+a[8]*c.z;c.x=a[0]*c.x+a[3]*c.y+a[6]*c.z;c.y=b;c.z=d}
function Ua(a,b,c,d,e,f){var h=new THREE.Vector3,k=new THREE.Vector3;h.crossVectors(b,f);a=k.subVectors(a,c).dot(h);b=d.dot(h);if(0==b)return null;k.addVectors(c,d.multiplyScalar(a/b));c=h.subVectors(e,k).dot(f);h.copy(f).multiplyScalar(-.05*c);return k.add(h)};J.Lg={};J.depthfragmentthreejs="// Copyright 2013 Trimble Navigation Ltd. All Rights Reserved.\n\n/**\n * @fileoverview This is a Three_js GLSL shader for rendering depth info \n *     into the render buffer.\n * @author gwink@sketchup.com (Georges Winkenbach)\n */\nuniform float u_oneOverDepthRange;\nuniform float u_minDepth;\n\nvarying float v_linearDepth;\n\nvec4 pack(float value) {\n  const vec4 shift1 = vec4(256. * 256., 256., 1.0, 1.0);\n  const vec4 shift2 = vec4(256., 256., 256., 1.0);\n  const vec4 shift3 = vec4(1. / 256., 1. / 256., 1. / 256., 0.0);\n  vec4 result = floor(fract(value * shift1) * shift2);\n  return vec4((result * shift3).xyz, 1.0);\n}\n\nvoid main(void) {\n  // Map depth to range 0..1 and then to a 24-bit color.\n  float d = (v_linearDepth - u_minDepth) * u_oneOverDepthRange;\n  gl_FragColor = pack(clamp(d, 0., 1.));\n}\n";
J.depthvertexthreejs="// Copyright 2013 Trimble Navigation Ltd. All Rights Reserved.\n\n/**\n * @fileoverview This is a Three_js GLSL shader for rendering depth info \n *     into the render buffer.\n * @author gwink@sketchup.com (Georges Winkenbach)\n */\n\n// So you think something is missing here? Well, kinda. Three_js injects a lot\n// of its own code into the shader, such as uniform declarations for\n// projectionMatrix, viewMatrix, etc.\n\nvarying float v_linearDepth;\n\nvoid main() {\n  // Project point to view space for openGL.\n  mat4 modelViewProjMatrix = projectionMatrix * viewMatrix * modelMatrix;\n  gl_Position = modelViewProjMatrix * vec4(position, 1);\n  // Compute linear distance from camera location to point in world space.\n  vec3 worldPosition = (modelMatrix * vec4(position, 1)).xyz;\n  v_linearDepth = distance(worldPosition, cameraPosition);\n}\n";
J.groundandskyfragmentthreejs="// Copyright 2013 Trimble Navigation Ltd. All Rights Reserved.\n\n/**\n * @fileoverview This is a Three_js fragment shader for rendering the ground and\n *     sky.\n * @author gwink@sketchup.com (Georges Winkenbach)\n */\n\nuniform vec3 u_skyColor;\nuniform vec3 u_backGroundColor;\nuniform vec3 u_horizonColor;\nuniform int u_useOrthographicCamera;\n\nvarying float v_horizon_ndc_y;\nvarying float v_pixel_ndc_y;\n\nvoid main(void) {\n  // Start with the color of the sky.\n  vec3 color = u_skyColor;\n  if (v_pixel_ndc_y > v_horizon_ndc_y) {\n    // Above the horizon: Draw the sky. For an orthographic camera we're\n    // all set with the sky color.\n    if (u_useOrthographicCamera == 0) {\n      // For a perspective camera we draw a gradient from the sky color at the\n      // top of the window to the horizon color at the horizon line.\n      float a = (v_pixel_ndc_y - v_horizon_ndc_y) / (1.0 - v_horizon_ndc_y);\n      a = clamp(a, 0.0, 1.0);\n      color = mix(u_horizonColor, u_skyColor, a);\n    }\n  } else {\n    // Below the horizon we use the background color.\n    color = u_backGroundColor;\n  }\n  \n  gl_FragColor = vec4(color, 1.0);\n}\n";
J.groundandskyvertexthreejs="// Copyright 2013 Trimble Navigation Ltd. All Rights Reserved.\n\n/**\n * @fileoverview This is a Three_js vertex shader for rendering the ground and\n *     sky.\n * @author gwink@sketchup.com (Georges Winkenbach)\n */\n\n// So you think something is missing here? Well, kinda. Three_js injects a lot\n// of its own code into the shader, such as uniform declarations for\n// projectionMatrix, viewMatrix, etc.\n\nuniform float u_farPlaneDistance;\nuniform vec3 u_viewTarget;\nuniform int u_useOrthographicCamera;\n\nvarying float v_horizon_ndc_y;\nvarying float v_pixel_ndc_y;\n\nvoid main() {\n  // Our ultimate goal is draw the sky above the horizon line and the background\n  // below. Our fragment will do that; but we need to give it two pieces of\n  // info: v_horizon_ndc_y - the y position of the horizon line in ndc\n  // coordinates and v_pixel_ndc_y - the y-position of the pixel being painted.\n  // Here's a few things to keep in mind as you go through this code:\n  //\n  // 1. The horizon line is derived by projecting the camera plane onto the far\n  //    clipping plane. The camera plane is a plane parallel to the ground plane\n  //    passing through the camera position.\n  // 2. In view space, the camera is at (0, 0, 0) is looking down -Z.\n  // 3. In ndc coordinates, the drawing window has bounds (-1, -1) at the lower-\n  //    left corner to (1, 1) at the upper-right corner.\n  // 4. In SketchUp, the camera is always parallel to the ground. Consequently\n  //    the horizon line is always horizontal.\n\n  // We'll need the view direction in world space to tell whether we're looking \n  // up or down.\n  vec3 view_dir = normalize(u_viewTarget - cameraPosition);\n\n  if (u_useOrthographicCamera != 0) {\n    // An orthographic camera is down infinte-Z. If it's (almost) perfectly \n    // horizontal then we draw the sky above 0 and the background below zero.\n    // Otherwise, it's either all sky (looking up) or all background (looking\n    // down).\n    v_horizon_ndc_y = 0.0;\n    if (abs(view_dir.z) > 1e-3) {\n      // Looking up or down; set the horizon line well below or above the \n      // ndc window.\n      v_horizon_ndc_y = (view_dir.z > 0.0) ? -2.0 : 2.0;\n    }\n  } else {\n    // For a perspective camera, we need to find out where the camera plane \n    // intersect the far clipping plane to determine where to place the horizon\n    // line. Now, we know that the horizon line is always horizontal. So instead\n    // of doing a plane-plane intersection, we're going to intersect a vertical \n    // line at the center of the far-clipping plane with the camera plane.\n\n    // In world space, the ground plane has normal == z-up. We transform that\n    // vector to get the camera-plane up-vector in view space:\n    vec4 camera_plane_normal = normalize(viewMatrix * vec4(0.0, 0.0, 1.0, 0.0));\n    // And here's the camera location in view space.\n    vec4 camera_loc = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // We use the center of the far-clipping plane as origin for the line.\n    vec4 line_origin = vec4(0.0, 0.0, -u_farPlaneDistance, 1.0);\n    // d is the dot product of the camera-plane normal with the line direction,\n    // which is (0, 1, 0). That reduces to:\n    float d = camera_plane_normal.y;\n    if (d < 1e-4) {\n      // Camera/ground plane is (nearly) parallel to far plane. That means the \n      // camera is looking straight up or down.\n      if (view_dir.z < 0.0) {\n        // Looking straight down. Set the horizon above the ndc window.\n        v_horizon_ndc_y = 2.0;\n      } else {\n        // Looking straight up. Set the horizon well below the ndc window.\n        v_horizon_ndc_y = -1000.0;\n      }\n    } else {\n      // Compute intersection q of line with camera plane.\n      float a = dot(line_origin - camera_loc, camera_plane_normal) / d;\n      vec4 q = vec4(line_origin.x, line_origin.y - a, line_origin.zw);\n\n      // Project the intersection point to NDC. The y-coord. of the projected\n      // point is where the horizon line needs to be.\n      q = projectionMatrix * q;\n      v_horizon_ndc_y = q.y / q.w;\n    }\n  }\n  \n  v_pixel_ndc_y = position.y;\n  gl_Position = vec4(position, 1);\n}\n";
J.mainfragment="// Copyright 2013 Trimble Navigation Ltd. All Rights Reserved.\n\n/**\n * @fileoverview This is a Three_js GLSL fragment shader for two-sided meshes.\n * @author gwink@sketchup.com (Georges Winkenbach)\n */\n\n// Whether the triangle is two-sided.\nuniform int uDoubleSided;\n// Whether the triangle is flipped.\nuniform int uTriangleIsFlipped;\n// Whether the shader is used to draw lines. When non-zero, the shader always\n// returns the line color, curently hardwired to opaque black.\nuniform int uDrawingLines;\n\nvarying vec3 vertexShadingFront;\nvarying vec3 vertexShadingBack;\nvarying vec4 vertexFrontColor;\nvarying vec4 vertexBackColor;\n\n#ifdef USE_FRONT_TEXTURE\nuniform int uFrontTextureIsReady;\nuniform float uFrontOpacity;\nuniform sampler2D uFrontTexture;\nvarying vec2 vertexFrontTextureUV;\n#endif\n#ifdef USE_BACK_TEXTURE\nuniform int uBackTextureIsReady;\nuniform float uBackOpacity;\nuniform sampler2D uBackTexture;\nvarying vec2 vertexBackTextureUV;\n#endif\n\n// Return the fragment color for a front-facing pixel.\nvec4 getFrontColor(vec3 shading) {\n#ifdef USE_FRONT_TEXTURE\n  vec4 color = (uFrontTextureIsReady != 0) ?\n      texture2D(uFrontTexture, vertexFrontTextureUV) : vertexFrontColor;\n  return vec4(shading, uFrontOpacity) * color;\n#else\n  return vec4(shading, 1.0) * vertexFrontColor;\n#endif\n}\n\n// Return the fragment color for a back-facing pixel.\nvec4 getBackColor(vec3 shading) {\n#ifdef USE_BACK_TEXTURE\n  vec4 color = (uBackTextureIsReady != 0) ?\n      texture2D(uBackTexture, vertexBackTextureUV) : vertexBackColor;\n  return vec4(shading, uBackOpacity) * color;\n#else\n  return vec4(shading, 1.0) * vertexBackColor;\n#endif\n}\n\nvoid main() {\n  if(uDrawingLines != 0) {\n    // TODO(gwink): For now drawing all lines in black.\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n  } else {\n    vec4 frontColor = getFrontColor(vertexShadingFront);\n    vec4 backColor = getBackColor(vertexShadingBack);\n\n    // Swap front and back colors if the triangle is flipped inside out.\n    if (uTriangleIsFlipped != 0) {\n      vec4 temp = frontColor;\n      frontColor = backColor;\n      backColor = temp;\n    }\n\n    if (uDoubleSided != 0) {\n      gl_FragColor = gl_FrontFacing ? frontColor : backColor;\n    } else {\n      gl_FragColor = frontColor;\n    }\n  }\n}\n";
J.mainvertex="// Copyright 2013 Trimble Navigation Ltd. All Rights Reserved.\n\n/**\n * @fileoverview This is a Three_js GLSL vertex shader for two-sided meshes.\n * @author gwink@sketchup.com (Georges Winkenbach)\n */\n\n// Front and back color may come either from a uniform or an attribute.\n// The back color is optional.\n// If the mesh is double-sided, we need to compute back-lighting parameters.\n\n// Per-vertex color attributes.\n#ifdef USE_FRONT_VERTEX_COLORS\n// Per-vertex rgba front-face colors.\nattribute vec4 aFrontColor;\n#endif\n#ifdef USE_BACK_VERTEX_COLORS\n// Per-vertex rgba back-face colors.\nattribute vec4 aBackColor;\n#endif\n\n// Texture coordinates.\n#ifdef USE_FRONT_TEXTURE\nuniform vec2 uFrontUVScale;\nattribute vec2 aFrontTextureUV;\nvarying vec2 vertexFrontTextureUV;\n#endif\n#ifdef USE_BACK_TEXTURE\nuniform vec2 uBackUVScale;\nattribute vec2 aBackTextureUV;\nvarying vec2 vertexBackTextureUV;\n#endif\n\n// Whether a back-face material different from the front-face material is used.\nuniform int uUseBackColor;\n// Constant rgba front-face color for the entire mesh.\nuniform vec4 uFrontColor;\n// Constant rgba back-face color.\nuniform vec4 uBackColor;\n// Whether the mesh is double sided.\nuniform int uDoubleSided;\n\n// The lighting parameters; names are dictated by Three.js.\nuniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n  uniform vec3 directionalLightColor[MAX_DIR_LIGHTS];\n  uniform vec3 directionalLightDirection[MAX_DIR_LIGHTS];\n#endif\n\n// Shading parameters for the front face.\nvarying vec3 vertexShadingFront;\n// Lighting parameters for the back face.\nvarying vec3 vertexShadingBack;\n\n// Vertex color.\nvarying vec4 vertexFrontColor;\nvarying vec4 vertexBackColor;\n\n\nvoid main() {\n  // Compute the transformed vertex normal, used for shading.\n  vec3 transformedNormal = normalMatrix * normal;\n  transformedNormal = normalize(transformedNormal);\n\n  // Project the vertex position.\n  vec4 mvPosition;\n  mvPosition = modelViewMatrix * vec4(position, 1.0);\n  gl_Position = projectionMatrix * mvPosition;\n\n  // Lighting parameters for front, and back if needed.\n  vertexShadingFront = vec3(0.0);\n  vertexShadingBack = vec3(0.0);\n\n  // MAX_DIR_LIGHTS is injected by three.js. It should always be 1 in our case.\n  // Keeping the #if stmt in here to fail gracefully if no directional light\n  // is defined.\n#if MAX_DIR_LIGHTS > 0\n  for (int i = 0; i < MAX_DIR_LIGHTS; i++) {\n    vec4 lDirection = viewMatrix * vec4(directionalLightDirection[i], 0.0);\n    vec3 dirVector = normalize(lDirection.xyz);\n    float dotProduct = dot(transformedNormal, dirVector);\n    vec3 directionalLightWeighting = vec3(max(dotProduct, 0.0));\n    vertexShadingFront += directionalLightColor[i] * directionalLightWeighting;\n\n    if (uDoubleSided != 0) {\n        vec3 directionalLightWeightingBack = vec3(max(-dotProduct, 0.0));\n        vertexShadingBack +=\n            directionalLightColor[i] * directionalLightWeightingBack;\n    }\n  }\n#endif\n\n  vertexShadingFront += ambientLightColor;\n  if (uDoubleSided != 0) {\n    vertexShadingBack += ambientLightColor;\n  }\n\n  // Set the vertex color.\n#ifdef USE_FRONT_VERTEX_COLORS\n  vertexFrontColor = aFrontColor;\n#else\n  vertexFrontColor = uFrontColor;\n#endif\n#ifdef USE_BACK_VERTEX_COLORS\n  vertexBackColor = (uUseBackColor != 0) ? aBackColor : vertexFrontColor;\n#else\n  vertexBackColor = (uUseBackColor != 0) ? uBackColor : vertexFrontColor;\n#endif\n\n// Pass texture coordinates through.\n#ifdef USE_FRONT_TEXTURE\n  vertexFrontTextureUV = aFrontTextureUV * uFrontUVScale;\n#endif\n#ifdef USE_BACK_TEXTURE\n  vertexBackTextureUV = aBackTextureUV * uBackUVScale;\n#endif\n}\n";
J.transparentpass1fragment="// Copyright 2013 Trimble Navigation Ltd. All Rights Reserved.\n\n/**\n * @fileoverview This is a GLSL fragment shader for the first (accumulation) \n *     pass in the Order Independent Transparency render plug-in (see\n *     http://jcgt.org/published/0002/02/09/paper.pdf).\n * @author gwink@sketchup.com (Georges Winkenbach)\n */\n\n// Whether the triangle is two-sided.\nuniform int uDoubleSided;\n// Whether the triangle is flipped.\nuniform int uTriangleIsFlipped;\n\nvarying vec3 vertexShadingFront;\nvarying vec3 vertexShadingBack;\nvarying vec4 vertexFrontColor;\nvarying vec4 vertexBackColor;\n\n#ifdef USE_FRONT_TEXTURE\nuniform int uFrontTextureIsReady;\nuniform float uFrontOpacity;\nuniform sampler2D uFrontTexture;\nvarying vec2 vertexFrontTextureUV;\n#endif\n#ifdef USE_BACK_TEXTURE\nuniform int uBackTextureIsReady;\nuniform float uBackOpacity;\nuniform sampler2D uBackTexture;\nvarying vec2 vertexBackTextureUV;\n#endif\n\n\n// Return the fragment color for a front-facing pixel.\nvec4 getFrontColor(vec3 shading) {\n#ifdef USE_FRONT_TEXTURE\n  vec4 color = (uFrontTextureIsReady != 0) ? \n      texture2D(uFrontTexture, vertexFrontTextureUV) : vertexFrontColor;\n  return vec4(shading, uFrontOpacity) * color;\n#else\n  return vec4(shading, 1.0) * vertexFrontColor;\n#endif\n}\n\n// Return the fragment color for a back-facing pixel.\nvec4 getBackColor(vec3 shading) {\n#ifdef USE_BACK_TEXTURE\n  vec4 color = (uBackTextureIsReady != 0) ? \n      texture2D(uBackTexture, vertexBackTextureUV) : vertexBackColor;\n  return vec4(shading, uBackOpacity) * color;\n#else\n  return vec4(shading, 1.0) * vertexBackColor;\n#endif\n}\n\n// This is equation 10 in the OIT paper. It seems to work well with z taken\n// directly from gl_FragCoord. \nfloat weightFunction1(float a, float z) {\n  return pow(a + 0.01, 4.0) +\n      max(0.01, min(3e3, 1e10 * pow(1.0 - z, 3.0)));\n}\n\n// This is equation 8 in the OIT paper. Better used with linear depth and left\n// here for possible future use.\nfloat weightFunction2(float a, float z) {\n  return pow(a + 0.01, 4.0) + max(1e-2, min(3.0 * 1e3, 100.0 / \n      (1e-5 + pow(abs(z) / 10.0, 3.0) + pow(abs(z) / 200.0, 6.0))));\n}\n\n// Note that most of the code below is identical to the main fragment shader.\n// That is because both shaders must determine the pixel color in exactly the\n// same way. The difference is in the last couple of lines, where the weight\n// function is used to modulate the final color. (Another difference, which you\n// can not see here, is in how blending is setup in the plug-in code.\nvoid main() {\n  vec4 frontColor = getFrontColor(vertexShadingFront);\n  vec4 backColor = getBackColor(vertexShadingBack);\n\n  // Swap front and back colors if the triangle is flipped inside out.\n  if (uTriangleIsFlipped != 0) {\n    vec4 temp = frontColor;\n    frontColor = backColor;\n    backColor = temp;\n  }\n  \n  vec4 color;\n  if (uDoubleSided != 0) {\n    color = gl_FrontFacing ? frontColor : backColor;\n  } else {\n    color = frontColor;\n  }\n  color.rgb *= color.a;\n  \n  float wz = weightFunction1(color.a, gl_FragCoord.z);\n  gl_FragColor = color * wz;\n}\n";
J.transparentpass2fragment="// Copyright 2013 Trimble Navigation Ltd. All Rights Reserved.\n\n/**\n * @fileoverview This is a GLSL fragment shader for the second (reveal) \n *     pass in the Order Independent Transparency render plug-in (see\n *     http://jcgt.org/published/0002/02/09/paper.pdf).\n * @author gwink@sketchup.com (Georges Winkenbach)\n */\n\n// Whether the triangle is two-sided.\nuniform int uDoubleSided;\n// Whether the triangle is flipped.\nuniform int uTriangleIsFlipped;\n\nvarying vec3 vertexShadingFront;\nvarying vec3 vertexShadingBack;\nvarying vec4 vertexFrontColor;\nvarying vec4 vertexBackColor;\n\n#ifdef USE_FRONT_TEXTURE\nuniform int uFrontTextureIsReady;\nuniform float uFrontOpacity;\nuniform sampler2D uFrontTexture;\nvarying vec2 vertexFrontTextureUV;\n#endif\n#ifdef USE_BACK_TEXTURE\nuniform int uBackTextureIsReady;\nuniform float uBackOpacity;\nuniform sampler2D uBackTexture;\nvarying vec2 vertexBackTextureUV;\n#endif\n\n// Return the fragment color for a front-facing pixel.\nvec4 getFrontColor(vec3 shading) {\n#ifdef USE_FRONT_TEXTURE\n  vec4 color = (uFrontTextureIsReady != 0) ? \n      texture2D(uFrontTexture, vertexFrontTextureUV) : vertexFrontColor;\n  return vec4(shading, uFrontOpacity) * color;\n#else\n  return vec4(shading, 1.0) * vertexFrontColor;\n#endif\n}\n\n// Return the fragment color for a back-facing pixel.\nvec4 getBackColor(vec3 shading) {\n#ifdef USE_BACK_TEXTURE\n  vec4 color = (uBackTextureIsReady != 0) ? \n      texture2D(uBackTexture, vertexBackTextureUV) : vertexBackColor;\n  return vec4(shading, uBackOpacity) * color;\n#else\n  return vec4(shading, 1.0) * vertexBackColor;\n#endif\n}\n\n// Note that most of the code below is identical to the main fragment shader.\n// That is because both shaders must determine the pixel color in exactly the\n// same way. The difference is in the last line where we store the color's\n// alpha chanel in the color buffer. (Another difference, which you can not see,\n// is in how blending is setup in the plug-in code.\nvoid main() {\n  vec4 frontColor = getFrontColor(vertexShadingFront);\n  vec4 backColor = getBackColor(vertexShadingBack);\n\n  // Swap front and back colors if the triangle is flipped inside out.\n  if (uTriangleIsFlipped != 0) {\n    vec4 temp = frontColor;\n    frontColor = backColor;\n    backColor = temp;\n  }\n  \n  vec4 color;\n  if (uDoubleSided != 0) {\n    color = gl_FrontFacing ? frontColor : backColor;\n  } else {\n    color = frontColor;\n  }\n  \n  gl_FragColor = vec4(color.a);\n}\n";
J.transparentpass3fragment="// Copyright 2014 Trimble Navigation Ltd. All Rights Reserved.\n\n/**\n * @fileoverview Folds the last pass of the order-independent transparency\n *    allgorithm together with FXAA antialiasing per\n *    http://developer.download.nvidia.com/assets/gamedev/files/sdk/11/FXAA_WhitePaper.pdf\n * @author gwink@sketchup.com (Georges Winkenbach)\n */\n\n// Set to non-zero to enable FXAA antialiasing.\nuniform int uEnableFxaa;\n// The RGBA buffer from transparency pass 1.\nuniform sampler2D uAccumBuffer;\n// The RGBA buffer from transparency pass 2.\nuniform sampler2D uRevealBuffer;\n// The RGBA buffer from the opaque pass.\nuniform sampler2D uOpaqueBuffer;\n// The reciprocal of the canvas dimensions, or (1 / width, 1 / height).\nuniform vec2 uCanvasSizeRcp;\n\n\n// Return the RGB color at pixel coordinates pos offset by pixOffset pixels.\nvec4 getRgby(vec2 pos, vec2 pixOffset) {\n  vec2 q = pos + pixOffset;\n\n  // This is pass 3 of the OIT transparency algorithm. (See \n  // http://jcgt.org/published/0002/02/09/paper.pdf). \n  vec3 opaque = texture2D(uOpaqueBuffer, q).rgb;\n  vec4 accum = texture2D(uAccumBuffer, q);\n  float r = texture2D(uRevealBuffer, q).r;\n  vec3 transparent = accum.rgb / clamp(accum.a, 1e-4, 5e4);\n  vec3 color = mix(transparent, opaque.rgb, r);\n\n  return vec4(color, dot(color, vec3(0., 1., 0.)));\n}\n\n\n// This is the FXAA antialiasing pixel shader. \nvec4 fxaa(vec2 pos) {\n  // The minimum amount of local contrast required to apply algorithm.\n  //   1.0 / 3.0  - too little\n  //   1.0 / 4.0  - good start\n  //   1.0 / 8.0  - applies to more edges\n  //   1.0 / 16.0 - overkill\n  const float FXAA_EDGE_THRESHOLD = 0.20;\n  // Trims the algorithm from processing darks, a perf optimization.\n  //   1.0 / 32.0 - visible limit (smaller isn't visible)\n  //   1.0 / 16.0 - good compromise\n  //   1.0 / 12.0 - upper limit (seeing artifacts)\n  const float FXAA_EDGE_THRESHOLD_MIN = 0.055;\n  // Controls when to stop searching, 0.25 seems to be the best quality wise.\n  const float FXAA_SEARCH_THRESHOLD = 0.25;\n  // Maximum number of search steps for end of span.\n  const int FXAA_SEARCH_STEPS = 12;\n  // Ensures fine detail is not completely removed. This is important for the \n  // transition of sub-pixel detail, like fences and wires.\n  //   3.0 / 4.0 - default (medium amount of filtering)\n  //   7.0 / 8.0 - high amount of filtering\n  //   1.0 - no capping of sub-pixel aliasing removal\n  const float FXAA_SUBPIX_CAP = 0.70;\n  // Controls sub-pixel aliasing removal.\n  //   1.0 / 2.0 - low removal\n  //   1.0 / 3.0 - medium removal\n  //   1.0 / 4.0 - default removal\n  //   1.0 / 8.0 - high removal\n  //   0.0 - complete removal\n  const float FXAA_SUBPIX_TRIM = 0.25;\n\n  const float FXAA_SUBPIX_TRIM_SCALE = 1.0 / (1.0 - FXAA_SUBPIX_TRIM);\n\n  // dPixX and dPixY are the offset along X and Y to move by one pixel.\n  float dPixX = uCanvasSizeRcp.x;\n  float dPixY = uCanvasSizeRcp.y;\n\n  vec4 rgbN = getRgby(pos, vec2(0., -dPixY));\n  vec4 rgbW = getRgby(pos, vec2(-dPixX, 0.));\n  vec4 rgbM = getRgby(pos, vec2(0., 0.));\n  vec4 rgbE = getRgby(pos, vec2(dPixX, 0.));\n  vec4 rgbS = getRgby(pos, vec2(0., dPixY));\n\n  float lumaN = rgbN.a;\n  float lumaW = rgbW.a;\n  float lumaM = rgbM.a;\n  float lumaE = rgbE.a;\n  float lumaS = rgbS.a;\n  float rangeMin = min(lumaM, min(min(lumaN, lumaW), min(lumaS, lumaE)));\n  float rangeMax = max(lumaM, max(max(lumaN, lumaW), max(lumaS, lumaE)));\n   \n  float range = rangeMax - rangeMin;\n  if(range < max(FXAA_EDGE_THRESHOLD_MIN, rangeMax * FXAA_EDGE_THRESHOLD)) {\n    return vec4(rgbM.rgb, 1.0);\n  }\n\n  float lumaL = (lumaN + lumaW + lumaE + lumaS) * 0.25;\n  float rangeL = abs(lumaL - lumaM);\n  float blendL = max(0.0, (rangeL / range) - FXAA_SUBPIX_TRIM) *\n      FXAA_SUBPIX_TRIM_SCALE; \n  blendL = min(FXAA_SUBPIX_CAP, blendL);\n\n  vec4 rgbNW = getRgby(pos, vec2(-dPixX, -dPixY));\n  vec4 rgbNE = getRgby(pos, vec2(dPixX, -dPixY));\n  vec4 rgbSW = getRgby(pos, vec2(-dPixX, dPixY));\n  vec4 rgbSE = getRgby(pos, vec2(dPixX, dPixY));\n  vec4 rgbL = rgbN + rgbW + rgbM + rgbE + rgbS + rgbNW + rgbNE + rgbSW + rgbSE;\n  rgbL *= vec4(1.0/9.0);\n\n  float lumaNW = rgbNW.a;\n  float lumaNE = rgbNE.a;\n  float lumaSW = rgbSW.a;\n  float lumaSE = rgbSE.a;\n\n  float edgeVert = \n    abs((0.25 * lumaNW) + (-0.5 * lumaN) + (0.25 * lumaNE)) +\n    abs((0.50 * lumaW ) + (-1.0 * lumaM) + (0.50 * lumaE )) +\n    abs((0.25 * lumaSW) + (-0.5 * lumaS) + (0.25 * lumaSE));\n  float edgeHorz = \n    abs((0.25 * lumaNW) + (-0.5 * lumaW) + (0.25 * lumaSW)) +\n    abs((0.50 * lumaN ) + (-1.0 * lumaM) + (0.50 * lumaS )) +\n    abs((0.25 * lumaNE) + (-0.5 * lumaE) + (0.25 * lumaSE));\n    \n  bool horzSpan = edgeHorz >= edgeVert;\n  float lengthSign = -uCanvasSizeRcp.y;\n\n  if(!horzSpan) {\n    lengthSign = -uCanvasSizeRcp.x;\n    lumaN = lumaW;\n    lumaS = lumaE;\n  }\n\n  float gradientN = abs(lumaN - lumaM);\n  float gradientS = abs(lumaS - lumaM);\n  lumaN = (lumaN + lumaM) * 0.5;\n  lumaS = (lumaS + lumaM) * 0.5;\n\n  if (gradientN < gradientS) {\n    lumaN = lumaS;\n    gradientN = gradientS;\n    lengthSign = -lengthSign;\n  }\n    \n  vec2 posN = vec2(pos.x + (horzSpan ? 0.0 : lengthSign * 0.5),\n                   pos.y + (horzSpan ? lengthSign * 0.5 : 0.0));\n  gradientN *= FXAA_SEARCH_THRESHOLD;\n    \n  vec2 posP = posN;\n  vec2 offNP = horzSpan ? vec2(dPixX, 0.0) : vec2(0., dPixY); \n  float lumaEndN = lumaN;\n  float lumaEndP = lumaN;\n  bool doneN = false;\n  bool doneP = false;\n  posN += offNP * vec2(-0.5, -0.5);\n  posP += offNP * vec2( 0.5,  0.5);\n  \n  // The staggered code below is actually the search algorithm for loop unrolled\n  // 6 times, followed by the original for loop for the remaining steps. This\n  // speeds up the shader measurably.\n  lumaEndN = getRgby(posN, vec2(0., 0.)).a;\n  lumaEndP = getRgby(posP, vec2(0., 0.)).a;\n  doneN = (abs(lumaEndN - lumaN) >= gradientN);\n  doneP = (abs(lumaEndP - lumaN) >= gradientN);\n  if(!doneN || !doneP) {\n    if(!doneN) {\n      posN -= offNP;\n      lumaEndN = getRgby(posN, vec2(0., 0.)).a;\n    }\n    if(!doneP) {\n      posP += offNP;\n      lumaEndP = getRgby(posP, vec2(0., 0.)).a;\n    }\n    doneN = doneN || (abs(lumaEndN - lumaN) >= gradientN);\n    doneP = doneP || (abs(lumaEndP - lumaN) >= gradientN);\n  \n    if(!doneN || !doneP) {\n      if(!doneN) {\n        posN -= offNP;\n        lumaEndN = getRgby(posN, vec2(0., 0.)).a;\n      }\n      if(!doneP) {\n        posP += offNP;\n        lumaEndP = getRgby(posP, vec2(0., 0.)).a;\n      }\n      doneN = doneN || (abs(lumaEndN - lumaN) >= gradientN);\n      doneP = doneP || (abs(lumaEndP - lumaN) >= gradientN);\n  \n      if(!doneN || !doneP) {\n        if(!doneN) {\n          posN -= offNP;\n          lumaEndN = getRgby(posN, vec2(0., 0.)).a;\n        }\n        if(!doneP) {\n          posP += offNP;\n          lumaEndP = getRgby(posP, vec2(0., 0.)).a;\n        }\n        doneN = doneN || (abs(lumaEndN - lumaN) >= gradientN);\n        doneP = doneP || (abs(lumaEndP - lumaN) >= gradientN);\n  \n        if(!doneN || !doneP) {\n          if(!doneN) {\n            posN -= offNP;\n            lumaEndN = getRgby(posN, vec2(0., 0.)).a;\n          }\n          if(!doneP) {\n            posP += offNP;\n            lumaEndP = getRgby(posP, vec2(0., 0.)).a;\n          }\n          doneN = doneN || (abs(lumaEndN - lumaN) >= gradientN);\n          doneP = doneP || (abs(lumaEndP - lumaN) >= gradientN);\n  \n          if(!doneN || !doneP) {\n            if(!doneN) {\n              posN -= offNP;\n              lumaEndN = getRgby(posN, vec2(0., 0.)).a;\n            }\n            if(!doneP) {\n              posP += offNP;\n              lumaEndP = getRgby(posP, vec2(0., 0.)).a;\n            }\n            doneN = doneN || (abs(lumaEndN - lumaN) >= gradientN);\n            doneP = doneP || (abs(lumaEndP - lumaN) >= gradientN);\n  \n            if(!doneN || !doneP) {\n              const int stepsLeft = FXAA_SEARCH_STEPS - 6;\n              for(int i = 0; i < stepsLeft; i++) {\n                if(!doneN) {\n                  posN -= offNP;\n                  lumaEndN = getRgby(posN, vec2(0., 0.)).a;\n                }\n                if(!doneP) {\n                  posP += offNP;\n                  lumaEndP = getRgby(posP, vec2(0., 0.)).a;\n                }\n\n                doneN = doneN || (abs(lumaEndN - lumaN) >= gradientN);\n                doneP = doneP || (abs(lumaEndP - lumaN) >= gradientN);\n                if(doneN && doneP)  break;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n    \n  float dstN = horzSpan ? pos.x - posN.x : pos.y - posN.y;\n  float dstP = horzSpan ? posP.x - pos.x : posP.y - pos.y;\n  bool directionN = dstN < dstP;\n  lumaEndN = directionN ? lumaEndN : lumaEndP;\n    \n  if(((lumaM - lumaN) < 0.0) == ((lumaEndN - lumaN) < 0.0)) {\n    lengthSign = 0.0;\n  }\n \n  float spanLength = (dstP + dstN);\n  dstN = directionN ? dstN : dstP;\n  float subPixelOffset = (0.5 + (dstN * (-1.0/spanLength))) * lengthSign;\n\n  vec4 rgbF = getRgby(vec2(pos.x + (horzSpan ? 0.0 : subPixelOffset),\n                           pos.y + (horzSpan ? subPixelOffset : 0.0)), \n                      vec2(0., 0.));\n\n  return vec4((blendL * rgbL + (1.0 - blendL) * rgbF).rgb, 1.0);\n}\n\nvoid main() {\n  vec2 ndcPos = vec2(gl_FragCoord.x * uCanvasSizeRcp.x, \n                    gl_FragCoord.y * uCanvasSizeRcp.y);\n  if (uEnableFxaa != 0) {\n    gl_FragColor = fxaa(ndcPos);\n  } else {\n    gl_FragColor = vec4(getRgby(ndcPos, vec2(0.0, 0.0)).rgb, 1.0);\n  }\n}\n";
J.transparentpass3vertex="// Copyright 2014 Trimble Navigation Ltd. All Rights Reserved.\n\n/**\n * @fileoverview Pass 3 of order-independent transparency rendering.\n * @author gwink@sketchup.com (Georges Winkenbach)\n */\n\n\n// This is a 2D image-processing pass. The transparency plug-in sets up the mesh\n// for this pass to exactly cover the canvas area in NDC coordinates. So all we \n// need to do is pass the vertex position down to the shader.\nvoid main() {\n  gl_Position = vec4(position, 1.0);\n}\n";function Va(){this.enabled=!1;this.n=this.d=this.renderTarget=null;this.tc=new THREE.ShaderMaterial({uniforms:{u_discardTransparent:{type:"i",value:0},u_oneOverDepthRange:{type:"f",value:1},u_minDepth:{type:"f",value:0}},vertexShader:J.depthvertexthreejs,fragmentShader:J.depthfragmentthreejs});this.Me=new THREE.Frustum;this.Ta=1;this.ra=1E3;this.lf=new THREE.Matrix4;Va.prototype.init=Va.prototype.init;Va.prototype.render=Va.prototype.render}Va.prototype.init=function(a){this.d=a;this.n=a.context};
Va.prototype.render=function(a,b){this.enabled&&this.me(a,b)};
Va.prototype.me=function(a,b){var c=this.d.getClearColor(),d=this.d.getClearAlpha();this.n.clearColor(0,0,0,0);this.n.disable(this.n.BLEND);this.d.setDepthTest(!0);this.d.setRenderTarget(this.renderTarget);this.d.clear();this.ra=b.far;this.Ta=b.near;if(p(b.fov)){var e=.5*THREE.Math.degToRad(b.fov),f=this.ra*Math.tan(e),e=this.ra*Math.tan(e*b.aspect);this.ra=Math.sqrt(f*f+e*e+b.far*b.far)}this.ra=Math.max(this.ra,this.Ta+1);this.tc.uniforms.u_oneOverDepthRange.value=1/(this.ra-this.Ta);this.tc.uniforms.u_minDepth.value=
this.Ta;this.tc.needsUpdate=!0;this.lf.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse);this.Me.setFromMatrix(this.lf);for(var h,f=a.__webglObjects,e=0,k=f.length;e<k;e++){h=f[e];var l=h.object;h.render=!1;!l.visible||l instanceof THREE.Mesh&&l.frustumCulled&&!this.Me.intersectsObject(l)||(l._modelViewMatrix.multiplyMatrices(b.matrixWorldInverse,l.matrixWorld),h.render=!0)}e=0;for(k=f.length;e<k;e++)h=f[e],h.render&&(l=h.object,h=h.buffer,this.Kd(l)&&this.d.setMaterialFaces(l.material),h instanceof
THREE.BufferGeometry?this.d.renderBufferDirect(b,a.__lights,null,this.tc,h,l):this.d.renderBuffer(b,a.__lights,null,this.tc,h,l));this.renderTarget.Yd&&this.n.readPixels(0,0,this.renderTarget.width,this.renderTarget.height,this.n.RGBA,this.n.UNSIGNED_BYTE,this.renderTarget.Yd);this.n.clearColor(c.r,c.g,c.b,d);this.n.enable(this.n.BLEND);this.d.setRenderTarget()};Va.prototype.Kd=function(a){return a.material instanceof THREE.MeshFaceMaterial?a.material.materials[0]:a.material};function Wa(){this.enabled=!1;this.Xa=new THREE.Color(6865658);this.Qa=new THREE.Color(16777215);this.xd=new THREE.Color(10075280);this.Pb=this.ba=this.n=this.d=null}g=Wa.prototype;
g.init=function(a){this.d=a;this.n=a.context;a=new THREE.BufferGeometry;a.attributes={index:{itemSize:1,array:new Uint16Array([0,1,2,0,2,3])},position:{itemSize:3,array:new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0])}};a.offsets=[{start:0,count:6,index:0}];var b={u_farPlaneDistance:{type:"f",value:1E3},u_viewTarget:{type:"v3",value:new THREE.Vector3(0,0,0)},u_useOrthographicCamera:{type:"i",value:0},u_skyColor:{type:"c",value:this.Xa},u_backGroundColor:{type:"c",value:this.xd},u_horizonColor:{type:"c",
value:this.Qa}};this.Pb=new THREE.ShaderMaterial({uniforms:b,vertexShader:J.groundandskyvertexthreejs,fragmentShader:J.groundandskyfragmentthreejs,side:THREE.DoubleSide});this.ba=new THREE.Scene;this.ba.add(new THREE.Mesh(a,this.Pb))};g.render=function(a,b){this.enabled&&null!=this.ba&&this.me(b)};g.Ba=function(a){this.Xa.setRGB(a[0],a[1],a[2])};g.Aa=function(a){this.xd.setRGB(a[0],a[1],a[2])};g.md=function(a){this.Qa.setRGB(a[0],a[1],a[2])};g.Ob=function(){return this.Xa.toArray()};g.Lb=function(){return this.xd.toArray()};
g.Mb=function(){return this.Qa.toArray()};
g.me=function(a){var b=this.Pb.uniforms.u_viewTarget.value;b.set(0,0,-1);b.applyMatrix4(a.matrixWorld);this.Pb.uniforms.u_farPlaneDistance.value=a.far;this.Pb.uniforms.u_useOrthographicCamera.value=a instanceof THREE.OrthographicCamera?1:0;this.Pb.needsUpdate=!0;this.d.initWebGLObjects(this.ba);var c=this.ba.__webglObjects;0<c.length&&(b=c[0].object,c=c[0].buffer,this.d.setDepthTest(!1),this.d.setDepthWrite(!1),this.n.disable(this.n.BLEND),this.d.setMaterialFaces(b.material),this.d.renderBufferDirect(a,
[],null,b.material,c,b))};function Xa(){this.enabled=!1;this.Yf=!0;this.qc=this.Ca=this.n=this.d=this.V=this.ed=this.ub=this.Za=null;this.na=new THREE.OrthographicCamera(-1,1,1,-1,0,1.5);this.ba=new THREE.Scene;Xa.prototype.init=Xa.prototype.init;Xa.prototype.render=Xa.prototype.render}
Xa.prototype.init=function(a){this.d=a;this.n=a.context;a=new THREE.BufferGeometry;var b=a.attributes;b.position={itemSize:3,array:new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,-1,1,1,1,1,-1,1,1]),numItems:18};this.Ca=new THREE.ShaderMaterial({uniforms:{},vertexShader:J.transparentpass3vertex,fragmentShader:J.transparentpass3fragment});b.position.buffer=this.n.createBuffer();this.n.bindBuffer(this.n.ARRAY_BUFFER,b.position.buffer);this.n.bufferData(this.n.ARRAY_BUFFER,b.position.array,this.n.STATIC_DRAW);
this.qc=new THREE.Mesh(a,this.Ca);this.qc._modelViewMatrix=new THREE.Matrix4;this.qc._normalMatrix=new THREE.Matrix3};
Xa.prototype.render=function(a,b){if(this.enabled){var c=this.d.getClearColor(),d=this.d.getClearAlpha(),e=null!=this.V?this.V.width:this.d.domElement.width,f=null!=this.V?this.V.height:this.d.domElement.height;if(null===this.Za||this.Za.width!=e||this.Za.height!=f){var h={magFilter:THREE.NearestFilter,minFilter:THREE.NearestFilter,format:THREE.RGBAFormat,type:THREE.FloatType,depthBuffer:!0,stencilBuffer:!1};this.Za=new THREE.WebGLRenderTarget(e,f,h);this.Za.generateMipmaps=!1;this.Ca.needsUpdate=
!0}if(null===this.ub||this.ub.width!=e||this.ub.height!=f)h={magFilter:THREE.NearestFilter,minFilter:THREE.NearestFilter,format:THREE.RGBAFormat,type:THREE.FloatType,depthBuffer:!0,stencilBuffer:!1},this.ub=new THREE.WebGLRenderTarget(e,f,h),this.ub.generateMipmaps=!1,this.Ca.needsUpdate=!0;this.n.clearColor(0,0,0,1);this.n.enable(this.n.BLEND);this.n.blendFunc(this.n.ONE,this.n.ONE);Ya(this,a,b,J.transparentpass1fragment,this.Za);this.n.clearColor(1,0,0,1);this.n.enable(this.n.BLEND);this.n.blendFunc(this.n.ZERO,
this.n.ONE_MINUS_SRC_ALPHA);Ya(this,a,b,J.transparentpass2fragment,this.ub);null!=this.V?(this.V.stencilBuffer=!1,this.V.depthBuffer=!1,this.d.setRenderTarget(this.V)):this.d.setRenderTarget();this.n.disable(this.n.BLEND);this.d.setDepthTest(!1);this.d.setDepthWrite(!1);this.Ca.uniforms.uCanvasSizeRcp={type:"v2",value:new THREE.Vector2(1/(null!=this.V?this.V.width:this.d.domElement.width),1/(null!=this.V?this.V.height:this.d.domElement.height))};this.Ca.uniforms.uAccumBuffer={type:"t",value:this.Za};
this.Ca.uniforms.uRevealBuffer={type:"t",value:this.ub};this.Ca.uniforms.uOpaqueBuffer={type:"t",value:this.ed};this.Ca.uniforms.uEnableFxaa={type:"i",value:this.Yf?1:0};this.d.renderBufferDirect(this.na,a.__lights,null,this.Ca,this.qc.geometry,this.qc);this.d.setDepthTest(!0);this.d.setDepthWrite(!0);this.d.setClearColor(c,d)}};Xa.prototype.Kd=function(a){return a.material instanceof THREE.MeshFaceMaterial?a.material.materials[0]:a.material};
function Ya(a,b,c,d,e){e.shareDepthFrom=a.ed;a.d.setRenderTarget(e);a.d.clear(!0,!1,!1);a.d.setDepthTest(!0);a.d.setDepthWrite(!1);for(var f=null,h=e=null,k=null,l=null,m=b.__webglObjects,r=-1,z=p(a.d.Od)?a.d.Od:m.length,x=m.length;z<x;z++)if(f=m[z],f.render){var D=f.object,f=f.buffer,t=a.Kd(D);t&&a.d.setMaterialFaces(D.material);r!=t.id&&(e=t.vertexShader,h=t.fragmentShader,k=t.depthWrite,l=t.depthTest,t.vertexShader=J.mainvertex,t.fragmentShader=d,t.depthWrite=!1,t.depthTest=!0,t.needsUpdate=!0);
a.d.setPolygonOffset(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits);f instanceof THREE.BufferGeometry?a.d.renderBufferDirect(c,b.__lights,null,t,f,D):a.d.renderBuffer(c,b.__lights,null,t,f,D);r!=t.id&&(t.vertexShader=e,t.fragmentShader=h,t.depthWrite=k,t.depthTest=l);r=t.id}};function Za(){}A("sketchup.ui.Tool",Za);Za.prototype.typeName="iTool";Za.prototype.typeName=Za.prototype.typeName;g=Za.prototype;g.Ye=function(){};g.$e=function(){};g.Td=function(){};g.Sd=function(){};g.df=function(){};g.dd=function(){};g.cf=function(){};g.ef=function(){};g.af=function(){};g.bf=function(){};function $a(a,b,c,d){this.ic=a;this.jc=b;this.errorCode=c;this.Pc=d||"";this.timeStamp=ga()};var ab=n.document.createElement("canvas"),bb=ab.getContext("2d");var cb="/images/",db=void 0,eb=!1,fb=!1,gb=null;function hb(a){if(null!=a){var b=a.skjAssetsBasePath;u(b)&&(db=b);b=a.uiAssetsBasePath;u(b)&&(cb=b);"show-frame-rate-info"in a&&(eb=!!a["show-frame-rate-info"])}null!=a&&(a=a["pick-debug-canvas-id"],u(a)&&(a=n.document.getElementById(a),p(a)&&p(a.getContext)&&(fb=!0,gb=a)))};function ib(){this.ve=this.ye=1;this.Q=64;this.ya=null;this.Ta=0;this.ra=1;this.O=new Aa;this.O.Qb=new H(0,0,0);this.O.R=new H(0,0,0);this.O.N=new G(0,0,1)}ib.prototype.typeName="iDepthPicker";function jb(a,b,c,d){a.ye=b;a.ve=c;a.ya=void 0;d.of(a.Q,a.Q,y(a.vg,a))}
ib.prototype.vg=function(a,b,c){this.ya=a;this.Ta=b;this.ra=c;if(fb&&(a=gb))for(a=a.getContext("2d"),a.clearRect(0,0,this.Q,this.Q),b=0;b<this.Q;b++){c=4*b*this.Q+2;for(var d=this.Q-b-1,e=0;e<this.Q;e++){var f=this.ya[c];a.fillStyle="rgb("+f+","+f+","+f+")";a.fillRect(e,d,1,1);c+=4}}};
function kb(a,b,c,d){0>b||b>=a.Q||0>c||c>=a.Q||(p(a.ya)?(b=4*c*a.Q+4*b,b=5.9604648E-8*(65536*a.ya[b+2]+256*a.ya[b+1]+a.ya[b])):b=-1,0<b&&1>b?(b=b*a.ra+(1-b)*a.Ta,a.O.Qb.set(d.R.x+b*d.N.x,d.R.y+b*d.N.y,d.R.z+b*d.N.z),a.O.$=1):1E-4<Math.abs(d.N.z)&&(b=-d.v.z/d.N.z,a.O.Qb.set(d.v.x+b*d.N.x,d.v.y+b*d.N.y,d.v.z+b*d.N.z),a.O.$=2))};function lb(a){if(Error.captureStackTrace)Error.captureStackTrace(this,lb);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}B(lb,Error);lb.prototype.name="CustomError";function mb(){0!=nb&&(ob[this[ca]||(this[ca]=++da)]=this);this.Lc=this.Lc;this.cd=this.cd}var nb=0,ob={};mb.prototype.Lc=!1;mb.prototype.dispose=function(){if(!this.Lc&&(this.Lc=!0,this.ec(),0!=nb)){var a=this[ca]||(this[ca]=++da);delete ob[a]}};mb.prototype.ec=function(){if(this.cd)for(;this.cd.length;)this.cd.shift()()};function pb(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.sb=!1;this.rf=!0}pb.prototype.stopPropagation=function(){this.sb=!0};pb.prototype.preventDefault=function(){this.defaultPrevented=!0;this.rf=!1};var qb="closure_listenable_"+(1E6*Math.random()|0),rb=0;function sb(a,b,c,d,e){this.nb=a;this.gd=null;this.src=b;this.type=c;this.Kc=!!d;this.Rc=e;this.key=++rb;this.Yb=this.Gc=!1}function tb(a){a.Yb=!0;a.nb=null;a.gd=null;a.src=null;a.Rc=null};function ub(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function vb(a,b){this.width=a;this.height=b}g=vb.prototype;g.clone=function(){return new vb(this.width,this.height)};g.toString=function(){return"("+this.width+" x "+this.height+")"};g.area=function(){return this.width*this.height};g.te=function(){return this.width/this.height};g.Ia=function(){return!this.area()};g.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
g.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};g.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};g.scale=function(a,b){var c=v(b)?b:a;this.width*=a;this.height*=c;return this};function wb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function xb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}var yb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<yb.length;f++)c=yb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function Ab(a){var b=arguments.length;if(1==b&&q(arguments[0]))return Ab.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};Ab("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));function Bb(a){Bb[" "](a);return a}Bb[" "]=function(){};function Cb(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}var Db=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function Eb(a,b){return a<b?-1:a>b?1:0};function Fb(a,b){b.unshift(a);lb.call(this,Cb.apply(null,b));b.shift()}B(Fb,lb);Fb.prototype.name="AssertionError";function K(a,b){throw new Fb("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};function Gb(){}Gb.prototype.typeName="iBaseNode";Gb.prototype.Md=!1;function Hb(a){a=a.matrix;return q(a)&&16==a.length?a:null}function L(a){return u(a)&&"#"==a[0]?a.substr(1):null};function Ib(a){null!=a&&this.G(a)}B(Ib,Gb);g=Ib.prototype;g.typeName="iGeometryNode";g.Hd=!0;g.Ke=null;g.G=function(a){this.mc=void 0;if(null!=a.type&&"geometry"==a.type){this.mc=L(a.uri);var b=a.frontFace;this.Hd=!0;u(b)&&"cw"==b&&(this.Hd=!1);this.Ke=L(a.frontMaterial);this.Nf=L(a.backMaterial);this.jg=L(a.layer)}return null!=this.mc};g.sd=function(a){return null!=this.mc&&null!=a[this.mc]};function Jb(a){null!=a&&this.G(a)}B(Jb,Gb);g=Jb.prototype;g.typeName="iGroupNode";g.pb=null;g.Fd=!1;g.yf="";
g.G=function(a){this.zd=this.Eb=this.qa=void 0;if(null!=a.type&&"node"==a.type){this.qa=Hb(a);var b=a.children;this.Eb=q(b)?b:null;var b=a.bboxMin,c=a.bboxMax;this.zd=null!=b&&null!=c?(q(b)&&3==b.length||b.typeName==la.Hf)&&(q(c)&&3==c.length||c.typeName==la.Hf)?new Ga(b,c):null:null;a.hidden&&(this.Md=!0);if(b=a.subtype)this.yf=b;a.faceCamera&&(this.Fd=!0);this.pb=L(a.material);return q(this.Eb)&&null!=this.zd}return!1};g.getBoundingBox=function(){return this.zd};
g.sd=function(a){if(null!=this.qa&&(!q(this.qa)||16!=this.qa.length)||!q(this.Eb))return!1;for(var b=this.Eb.length,c=0;c<b;++c){var d=L(this.Eb[c]);if(!p(d)||!p(a[d]))return!1}return!0};function Kb(a){null!=a&&this.G(a)}B(Kb,Gb);Kb.prototype.typeName="iInstanceNode";Kb.prototype.sf=!1;Ib.prototype.pb=null;Kb.prototype.G=function(a){this.dc=this.qa=void 0;return null!=a.type&&"instance"==a.type?(this.qa=Hb(a),this.dc=L(a.uri),a.hidden&&(this.Md=!0),this.sf=!!a.reverseFaces,this.pb=L(a.material),u(this.dc)):!1};Kb.prototype.sd=function(a){if(null!=this.qa&&(!q(this.qa)||16!=this.qa.length)||!u(this.dc))return!1;a=a[this.dc];return p(a)&&"iGroupNode"==a.typeName};function Lb(){this.ae="";this.oe=[]}Lb.prototype.typeName="iScene";Lb.prototype.G=function(a){if(!w(a))return!1;this.ae=L(a.root);a=a.visuals;if(q(a))for(var b=a.length,c=0;c<b;++c){var d=L(a[c]);u(d)&&this.oe.push(d)}return null!=this.ae&&0<this.oe.length};Lb.prototype.Z=function(){return this.oe};function Mb(){}g=Mb.prototype;g.typeName="iSimpleTextureMaterial";g.M="";g.be=1;g.zf=[.75,.75,.75];g.ce=1;g.rb=1;g.Ld=!1;
g.G=function(a){if(!w(a))return!1;var b=a.name;this.M=u(b)?b:"Untitled";b=a.scaleUV;q(b)&&2==b.length&&(this.be=v(b[0])?b[0]:1,this.ce=v(b[1])?b[1]:1);b=a.opacity;v(b)&&(this.rb=Math.max(0,Math.min(1,b)));b=a.hasTransparency;"boolean"==typeof b&&(this.Ld=b);b=a.textureAverageColor;q(b)&&(this.zf=b);a=a.uri;u(a)&&0<a.length&&(this.Nd=u(a)&&"@"==a[0]?a.substr(1):null,null==this.Nd&&(this.Nd=""));return!0};g.getName=function(){return this.M};g.nc=function(){return this.zf};
g.Wc=function(){return this.Ld||1>this.rb};function Nb(a){q(a)&&3<=a.length&&4>=a.length?this.setColor(a):this.Fb=[1,1,1,1]}g=Nb.prototype;g.typeName="iSolidColorMaterial";g.M="";g.setColor=function(a){if(4==a.length)for(this.Fb=a.slice(0),a=0;4>a;++a)this.Fb[a]=Math.max(0,Math.min(1,this.Fb[a]));else 3==a.length&&(this.Fb=[Math.max(0,Math.min(1,a[0])),Math.max(0,Math.min(1,a[1])),Math.max(0,Math.min(1,a[2])),1])};g.G=function(a){if(!w(a))return!1;var b=a.name;this.M=u(b)?b:"Untitled";this.setColor(a.rgba);return!0};g.nc=function(){return this.Fb};
g.getName=function(){return this.M};g.Wc=function(){return 1>this.Fb[3]};function Ob(){this.Mc=1}Ob.prototype.G=function(a){if(!w(a))return!1;"edgeDisplayMode"in a&&(this.Mc=a.edgeDisplayMode);return!0};function Pb(){}g=Pb.prototype;g.typeName="iVertexColorMaterial";g.M="";g.setColors=function(a){if(q(a)&&0==(a.length&3)){this.Bc=a;for(var b=a.length,c=1-1/255,d=3;d<b&&!(a[d]<c);d+=4);}};g.G=function(a){if(!w(a))return!1;var b=a.name;this.M=u(b)?b:"Untitled";b=a.rgbaArray;a=a.size;if(!q(b)||!v(a)||b.length!=4*a)return!1;this.setColors(b);return!0};g.getName=function(){return this.M};g.Wc=function(){return 4<=this.Bc.length&&1>this.Bc[3]};function Qb(){this.Fc=[.6,.74,.565,1];this.Xa=[.408,.765,.984,1];this.Qa=[1,1,1,1];this.Rb=!0;this.ie=""}g=Qb.prototype;g.typeName="iVisual";g.M="";g.Rb=!0;g.Ac=!0;g.na="";g.ie="";
g.G=function(a){if(!w(a))return!1;var b=a.name;this.M=u(b)?b:"Untitled";b=a.backgroundColor;this.Fc=Rb(b);b=a.horizonColor;this.Qa=Rb(b);b=a.skyColor;this.Xa=Rb(b);this.Rb=!0;"skyVisible"in a&&(this.Rb=a.skyVisible);this.Ac=!0;"useCamera"in a&&(this.Ac=a.useCamera);"style"in a&&(this.ie=L(a.style));this.na=L(a.camera);return null!=this.na};g.getName=function(){return this.M};g.Lb=function(){return this.Fc};g.Mb=function(){return this.Qa};g.Ob=function(){return this.Xa};g.getStyle=function(){return this.ie};
g.clone=function(){var a=new Qb;a.M=this.M;a.Fc=this.Fc;a.Xa=this.Xa;a.Qa=this.Qa;a.na=this.na;return a};function Rb(a){if(q(a)){if(4==a.length)return[Math.max(0,Math.min(1,a[0])),Math.max(0,Math.min(1,a[1])),Math.max(0,Math.min(1,a[2])),Math.max(0,Math.min(1,a[3]))];if(3==a.length)return[Math.max(0,Math.min(1,a[0])),Math.max(0,Math.min(1,a[1])),Math.max(0,Math.min(1,a[2])),1]}return[1,1,1,1]};var M=Array.prototype,Sb=M.indexOf?function(a,b,c){return M.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(u(a))return u(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Tb=M.lastIndexOf?function(a,b,c){return M.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(u(a))return u(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;
return-1},Ub=M.forEach?function(a,b,c){M.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=u(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};function Vb(a,b){var c=Sb(a,b),d;(d=0<=c)&&M.splice.call(a,c,1);return d}function Wb(a){return M.concat.apply(M,arguments)}function Xb(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};function Yb(a){this.src=a;this.P={};this.yc=0}Yb.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.P[f];a||(a=this.P[f]=[],this.yc++);var h=Zb(a,b,d,e);-1<h?(b=a[h],c||(b.Gc=!1)):(b=new sb(b,this.src,f,!!d,e),b.Gc=c,a.push(b));return b};Yb.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.P))return!1;var e=this.P[a];b=Zb(e,b,c,d);return-1<b?(tb(e[b]),M.splice.call(e,b,1),0==e.length&&(delete this.P[a],this.yc--),!0):!1};
function $b(a,b){var c=b.type;if(!(c in a.P))return!1;var d=Vb(a.P[c],b);d&&(tb(b),0==a.P[c].length&&(delete a.P[c],a.yc--));return d}Yb.prototype.Jd=function(a,b,c,d){a=this.P[a.toString()];var e=-1;a&&(e=Zb(a,b,c,d));return-1<e?a[e]:null};function Zb(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Yb&&f.nb==b&&f.Kc==!!c&&f.Rc==d)return e}return-1};var ac;a:{var bc=n.navigator;if(bc){var cc=bc.userAgent;if(cc){ac=cc;break a}}ac=""}function N(a){return-1!=ac.indexOf(a)};function dc(){return N("Opera")||N("OPR")}function ec(){return N("Edge")||N("Trident")||N("MSIE")}function fc(){return(N("Chrome")||N("CriOS"))&&!dc()&&!ec()};function gc(){return N("Edge")};function hc(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}g=hc.prototype;g.clone=function(){return new hc(this.left,this.top,this.width,this.height)};g.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};g.contains=function(a){return a instanceof hc?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
function ic(a,b){var c=b.x<a.left?a.left-b.x:Math.max(b.x-(a.left+a.width),0),d=b.y<a.top?a.top-b.y:Math.max(b.y-(a.top+a.height),0);return c*c+d*d}g.distance=function(a){return Math.sqrt(ic(this,a))};g.va=function(){return new vb(this.width,this.height)};g.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
g.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};g.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};g.translate=function(a,b){this.left+=a;v(b)&&(this.top+=b);return this};g.scale=function(a,b){var c=v(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};Ab("action","cite","data","formaction","href","manifest","poster","src");Ab("EMBED","IFRAME","LINK","OBJECT","SCRIPT","STYLE","TEMPLATE");function jc(a,b){this.pa={};this.L=[];this.C=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof jc?(c=a.jb(),d=a.wa()):(c=xb(a),d=wb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}g=jc.prototype;g.oc=function(){return this.C};g.wa=function(){kc(this);for(var a=[],b=0;b<this.L.length;b++)a.push(this.pa[this.L[b]]);return a};g.jb=function(){kc(this);return this.L.concat()};
g.bc=function(a){return lc(this.pa,a)};g.equals=function(a,b){if(this===a)return!0;if(this.C!=a.oc())return!1;var c=b||mc;kc(this);for(var d,e=0;d=this.L[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function mc(a,b){return a===b}g.Ia=function(){return 0==this.C};g.clear=function(){this.pa={};this.C=this.L.length=0};g.remove=function(a){return lc(this.pa,a)?(delete this.pa[a],this.C--,this.L.length>2*this.C&&kc(this),!0):!1};
function kc(a){if(a.C!=a.L.length){for(var b=0,c=0;b<a.L.length;){var d=a.L[b];lc(a.pa,d)&&(a.L[c++]=d);b++}a.L.length=c}if(a.C!=a.L.length){for(var e={},c=b=0;b<a.L.length;)d=a.L[b],lc(e,d)||(a.L[c++]=d,e[d]=1),b++;a.L.length=c}}g.get=function(a,b){return lc(this.pa,a)?this.pa[a]:b};g.set=function(a,b){lc(this.pa,a)||(this.C++,this.L.push(a));this.pa[a]=b};g.forEach=function(a,b){for(var c=this.jb(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new jc(this)};
g.transpose=function(){for(var a=new jc,b=0;b<this.L.length;b++){var c=this.L[b];a.set(this.pa[c],c)}return a};function lc(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function nc(){this.ea=[];this.ma=[]}function oc(a){0==a.ea.length&&(a.ea=a.ma,a.ea.reverse(),a.ma=[]);return a.ea.pop()}g=nc.prototype;g.oc=function(){return this.ea.length+this.ma.length};g.Ia=function(){return 0==this.ea.length&&0==this.ma.length};g.clear=function(){this.ea=[];this.ma=[]};g.contains=function(a){return 0<=Sb(this.ea,a)||0<=Sb(this.ma,a)};g.remove=function(a){var b=Tb(this.ea,a);if(0>b)return Vb(this.ma,a);M.splice.call(this.ea,b,1);return!0};
g.wa=function(){for(var a=[],b=this.ea.length-1;0<=b;--b)a.push(this.ea[b]);for(var c=this.ma.length,b=0;b<c;++b)a.push(this.ma[b]);return a};function pc(a,b,c){this.cb=new nc;this.og=a;this.qg=b;this.gf=p(c)?c:null}pc.prototype.ad=0;function qc(a,b,c){var d=y(function(){return c.call(b,null,this)},a);a.cb.ma.push(d);a.ad=Math.max(a.ad,a.cb.oc())}function rc(a,b){a.cb.Ia()&&b(0);for(var c=(new Date).getTime(),d=1;!a.cb.Ia()&&0!=d&&50>=(new Date).getTime()-c;)d=oc(a.cb)();null!=a.gf&&(c=1,0<a.ad&&(c=a.cb.oc()/a.ad),a.gf(1-c));b(d)}
function sc(a){function b(c){0==c?a.qg(a):a.cb.Ia()?a.og(a):setTimeout(function(){rc(a,b)},0)}setTimeout(function(){rc(a,b)},0)};function tc(a){if("function"==typeof a.wa)return a.wa();if(u(a))return a.split("");if(ba(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return wb(a)}function uc(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ba(a)||u(a))Ub(a,b,c);else{var d;if("function"==typeof a.jb)d=a.jb();else if("function"!=typeof a.wa)if(ba(a)||u(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=xb(a);else d=void 0;for(var e=tc(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}};var vc=dc(),O=ec(),wc=N("Gecko")&&!(-1!=ac.toLowerCase().indexOf("webkit")&&!gc())&&!(N("Trident")||N("MSIE"))&&!gc(),xc=-1!=ac.toLowerCase().indexOf("webkit")&&!gc(),yc=N("Macintosh"),zc=N("Windows"),Ac=N("Linux")||N("CrOS");function Bc(){var a=ac;if(wc)return/rv\:([^\);]+)(\)|;)/.exec(a);if(O&&gc())return/Edge\/([\d\.]+)/.exec(a);if(O)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(xc)return/WebKit\/(\S+)/.exec(a)}function Cc(){var a=n.document;return a?a.documentMode:void 0}
var Dc=function(){if(vc&&n.opera){var a=n.opera.version;return"function"==aa(a)?a():a}var a="",b=Bc();b&&(a=b?b[1]:"");return O&&!gc()&&(b=Cc(),b>parseFloat(a))?String(b):a}(),Ec={};
function P(a){var b;if(!(b=Ec[a])){b=0;for(var c=Db(String(Dc)).split("."),d=Db(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",k=d[f]||"",l=/(\d*)(\D*)/g,m=/(\d*)(\D*)/g;do{var r=l.exec(h)||["","",""],z=m.exec(k)||["","",""];if(0==r[0].length&&0==z[0].length)break;b=Eb(0==r[1].length?0:parseInt(r[1],10),0==z[1].length?0:parseInt(z[1],10))||Eb(0==r[2].length,0==z[2].length)||Eb(r[2],z[2])}while(0==b)}b=Ec[a]=0<=b}return b}
var Fc=n.document,Gc=Cc(),Hc=!Fc||!O||!Gc&&gc()?void 0:Gc||("CSS1Compat"==Fc.compatMode?parseInt(Dc,10):5);!wc&&!O||O&&O&&(gc()||9<=Hc)||wc&&P("1.9.1");O&&P("9");var Ic=!O||O&&(gc()||9<=Hc),Jc=O&&!P("9");!xc||P("528");wc&&P("1.9b")||O&&P("8")||vc&&P("9.5")||xc&&P("528");wc&&!P("8")||O&&P("9");function Kc(a,b){pb.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.Ha=this.state=null;a&&this.init(a,b)}B(Kc,pb);
Kc.prototype.init=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(wc){var e;a:{try{Bb(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=xc||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=xc||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:
a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.Ha=a;a.defaultPrevented&&this.preventDefault()};Kc.prototype.stopPropagation=function(){Kc.od.stopPropagation.call(this);this.Ha.stopPropagation?this.Ha.stopPropagation():this.Ha.cancelBubble=!0};
Kc.prototype.preventDefault=function(){Kc.od.preventDefault.call(this);var a=this.Ha;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Jc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Lc="closure_lm_"+(1E6*Math.random()|0),Mc={},Nc=0;function Q(a,b,c,d,e){if(q(b)){for(var f=0;f<b.length;f++)Q(a,b[f],c,d,e);return null}c=Oc(c);return a&&a[qb]?a.Ga.add(String(b),c,!1,d,e):Pc(a,b,c,!1,d,e)}
function Pc(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=!!e,k=Qc(a);k||(a[Lc]=k=new Yb(a));c=k.add(b,c,d,e,f);if(c.gd)return c;d=Rc();c.gd=d;d.src=a;d.nb=c;if(a.addEventListener)a.addEventListener(b.toString(),d,h);else if(a.attachEvent)a.attachEvent(Sc(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");Nc++;return c}function Rc(){var a=Tc,b=Ic?function(c){return a.call(b.src,b.nb,c)}:function(c){c=a.call(b.src,b.nb,c);if(!c)return c};return b}
function Uc(a,b,c,d,e){if(q(b)){for(var f=0;f<b.length;f++)Uc(a,b[f],c,d,e);return null}c=Oc(c);return a&&a[qb]?a.Ga.add(String(b),c,!0,d,e):Pc(a,b,c,!0,d,e)}function Vc(a,b,c,d,e){if(q(b))for(var f=0;f<b.length;f++)Vc(a,b[f],c,d,e);else c=Oc(c),a&&a[qb]?a.Ga.remove(String(b),c,d,e):a&&(a=Qc(a))&&(b=a.Jd(b,c,!!d,e))&&Wc(b)}
function Wc(a){if(v(a)||!a||a.Yb)return!1;var b=a.src;if(b&&b[qb])return $b(b.Ga,a);var c=a.type,d=a.gd;b.removeEventListener?b.removeEventListener(c,d,a.Kc):b.detachEvent&&b.detachEvent(Sc(c),d);Nc--;(c=Qc(b))?($b(c,a),0==c.yc&&(c.src=null,b[Lc]=null)):tb(a);return!0}function Sc(a){return a in Mc?Mc[a]:Mc[a]="on"+a}function Xc(a,b,c,d){var e=!0;if(a=Qc(a))if(b=a.P[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.Kc==c&&!f.Yb&&(f=Yc(f,d),e=e&&!1!==f)}return e}
function Yc(a,b){var c=a.nb,d=a.Rc||a.src;a.Gc&&Wc(a);return c.call(d,b)}function R(a){Zc.dispatchEvent(a)}
function Tc(a,b){if(a.Yb)return!0;if(!Ic){var c;if(!(c=b))a:{c=["window","event"];for(var d=n,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Kc(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(h){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,k=e.length-1;!c.sb&&0<=k;k--){c.currentTarget=e[k];var l=Xc(e[k],f,!0,c),d=d&&l}for(k=0;!c.sb&&k<
e.length;k++)c.currentTarget=e[k],l=Xc(e[k],f,!1,c),d=d&&l}return d}return Yc(a,new Kc(b,this))}function Qc(a){a=a[Lc];return a instanceof Yb?a:null}var $c="__closure_events_fn_"+(1E9*Math.random()>>>0);function Oc(a){if("function"==aa(a))return a;a[$c]||(a[$c]=function(b){return a.handleEvent(b)});return a[$c]};A("sketchup.api2.Events.addListener",function(a,b,c){return Q(a,b,function(a){c(a.Ed)})});A("sketchup.api2.Events.addListenerOnce",function(a,b,c){return Uc(a,b,function(a){c(a.Ed)})});A("sketchup.api2.Events.removeListener",function(a){return Wc(a)});function S(){mb.call(this);this.Ga=new Yb(this);this.Jf=this;this.Xd=null}B(S,mb);S.prototype[qb]=!0;g=S.prototype;g.addEventListener=function(a,b,c,d){Q(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){Vc(this,a,b,c,d)};
g.dispatchEvent=function(a){var b,c=this.Xd;if(c)for(b=[];c;c=c.Xd)b.push(c);var c=this.Jf,d=a.type||a;if(u(a))a=new pb(a,c);else if(a instanceof pb)a.target=a.target||c;else{var e=a;a=new pb(d,c);zb(a,e)}var e=!0,f;if(b)for(var h=b.length-1;!a.sb&&0<=h;h--)f=a.currentTarget=b[h],e=ad(f,d,!0,a)&&e;a.sb||(f=a.currentTarget=c,e=ad(f,d,!0,a)&&e,a.sb||(e=ad(f,d,!1,a)&&e));if(b)for(h=0;!a.sb&&h<b.length;h++)f=a.currentTarget=b[h],e=ad(f,d,!1,a)&&e;return e};
g.ec=function(){S.od.ec.call(this);if(this.Ga){var a=this.Ga,b=0,c;for(c in a.P){for(var d=a.P[c],e=0;e<d.length;e++)++b,tb(d[e]);delete a.P[c];a.yc--}}this.Xd=null};function ad(a,b,c,d){b=a.Ga.P[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.Yb&&h.Kc==c){var k=h.nb,l=h.Rc||h.src;h.Gc&&$b(a.Ga,h);e=!1!==k.call(l,d)&&e}}return e&&0!=d.rf}g.Jd=function(a,b,c,d){return this.Ga.Jd(String(a),b,c,d)};var Zc=new S;function bd(){this.Rd=this.Ra=!1;this.u=[];this.X=[];this.Pa={};this.Da={};this.wd=this.Sb=this.Ua=0;this.Qd=cd;this.ze=void 0}var dd=Date,cd=3;bd.prototype.clear=function(){for(this.ja();this.u.length;)this.u.pop();for(;this.X.length;)this.X.pop();for(var a in this.Da)delete this.Da[a];for(a in this.Pa)delete this.Pa[a]};function ed(a,b){a.u.push(b);b.ee("kf"+a.u.length)}
bd.prototype.nd=function(a,b,c,d){if(!this.Ra){if(0==this.X.length&&0!=this.u.length)for(var e=this.u.length,f=0,h=0;h<e;h++){var k=this.u[h],l=0;if(k instanceof ja){for(var l=f,m=k.ib(),r=k.u.length,z=k.tag,x=0;x<r;x++){var D=k.u[x],D=this.X.push({Xc:z,Ab:l,vb:D,da:void 0});!p(z)||z in this.Pa||(this.Pa[z]=D-1)}l+=m;for(x=0;x<r;x++)D=k.u[x],this.X.push({Xc:z,Ab:l,vb:void 0,da:D})}else l=f,m=k.ib(),r=this.X.push({Xc:k.tag,Ab:l,vb:k,da:void 0}),!p(k.tag)||k.tag in this.Pa||(this.Pa[k.tag]=r-1),l+=
m,this.X.push({Xc:k.tag,Ab:l,vb:void 0,da:k});l=k=m;f+=l}0<this.X.length&&0<this.u.length&&(this.Ra=!0,this.Ua=0,this.Qd=c,1==c&&p(d)&&d in this.Pa&&(this.Ua=this.Pa[d],this.ze=d),this.Rd=!0,E=a,ha=b,R("Sketchup_animation_started"))}};bd.prototype.ja=function(){if(this.Ra){this.Ra=!1;for(var a=0,b=this.u.length;a<b;a++);for(var c in this.Da)delete this.Da[c];R("Sketchup_animation_stopped")}};
bd.prototype.update=function(){if(!this.Ra)return!1;var a=dd.now();if(this.Rd){for(var b=0,c=this.u.length;b<c;b++);b=this.X[this.Ua].Ab;this.Sb=a;this.wd=this.Sb-b;this.Rd=!1}var b=a-this.wd,c=this.X[this.Ua].Ab,d=!1;if(b+.499*(a-this.Sb)>=c){for(var e=Math.max(b,c),b=!1,c=this.X.length,d=this.Ua;d<c;){var f=this.X[d];if(e<f.Ab)break;if(1==this.Qd&&f.Xc!=this.ze)break;p(f.vb)&&(this.Da[f.vb.Dc]=f.vb,b=f.vb.Cb(e)||b);p(f.da)&&(b=f.da.da(e)||b,delete this.Da[f.da.Dc]);d++}this.Ua=d;d=b.qh}else for(e in this.Da)d=
this.Da[e].xc(b)||d;if(0===Object.keys(this.Da).length||this.Ua>=this.X.length){if(this.Qd==cd)return this.wd=this.Sb=a,this.Ua=0,this.update()||d;this.ja();d=!0}this.Sb=a;return d};function fd(a){this.o=a;this.Jc={};this.d=this.j=this.kc=this.kd=this.ba=null;this.fa=new Wa;this.hc=!0;this.yb=this.S=this.Ya=this.za=null;this.Nc=!0;this.wc=2;this.Ja=null;this.d=new THREE.SuWebglRenderer({antialias:!0,canvas:this.o,clearColor:9943952,mh:1,devicePixelRatio:window.devicePixelRatio||1});this.d.enableDebugOutput=!0;this.d.autoClear=!1;this.d.computeRenderDepth=!1;this.bd=!0;Uc(Zc,"Sketchup_all_textures_ready",function(){this.re=!0},!1,this);new THREE.Matrix4;this.lb=new THREE.Matrix4;
this.e=new THREE.Vector3;this.m=new THREE.Vector3;this.Ff=new THREE.Vector3;this.Ef=new THREE.Color}B(fd,Pa);g=fd.prototype;g.typeName="iRenderManagerThreejs";g.hc=!0;g.bd=!0;g.re=!1;function gd(a,b){var c=a.object.material,d=b.object.material;return c.transparent==d.transparent?c.id-d.id:c.transparent?1:-1}function hd(a,b){var c=a.object.material,d=b.object.material;return c.transparent?d.transparent?b.z-a.z:1:d.transparent?-1:c.id-d.id}
g.tg=function(a){2==this.wc?a.sort(gd):a.sort(hd);var b=a.length;this.d.Od=b;for(var c=0;c<b;c++)if(a[c].object.material.transparent){this.d.Od=c;return}this.wc=Pa.NONE};g.Re=function(){return!this.bd&&this.re};
g.render=function(){if(this.bd){if(null==this.eb){this.eb=new THREE.DirectionalLight(16777215,.8);p(this.j)&&this.eb.position.setFromMatrixColumn(2,this.j.matrix);this.ba.add(this.eb);var a=new THREE.AmbientLight(6710886);this.ba.add(a)}this.d.addPrePlugin(this.fa);this.fa.enabled=!1;this.d.initWebGLObjects(this.ba);this.d.autoUpdateObjects=!1;this.d.displayListFunc=y(this.tg,this);this.d.renderTransparentObjects=!1;this.Ya=new Xa;this.d.addPostPlugin(this.Ya);this.Ya.enabled=!0;this.za=new Va;this.d.addPostPlugin(this.za);
this.za.enabled=!1;this.yb=new Qa;this.d.addPostPlugin(this.yb)}this.fa.enabled=this.hc;this.S&&this.S.needsUpdate&&(this.za.renderTarget=this.S,this.za.enabled=!0);this.d.enableLineDisplay=this.Nc;a=id(this,null,this.d.domElement.width,this.d.domElement.height);Ja=this.j;this.d.setRenderTarget(a);this.d.clear(!0,!0,!1);this.d.render(this.ba,this.j,a,!1);this.za.enabled&&(p(this.S.ff)&&this.S.ff(this.S.Yd,this.za.Ta,this.za.ra),this.za.enabled=!1,this.S.needsUpdate=!1);if(1==this.yb.enabled){if(a=
this.yb.Sc){var b=this.yb,a=this.j;if(b.Sc)if(a instanceof THREE.PerspectiveCamera){var c=new THREE.Vector3,d=new THREE.Vector3;Ta(b.D[0],b.D[1],c,d);var e=new THREE.Vector3,f=new THREE.Vector3;Ta(b.D[2],b.D[3],e,f);var h=new THREE.Vector3,k=new THREE.Vector3;h.setFromMatrixPosition(a.matrix);k.setFromMatrixColumn(2,a.matrix);k.negate();k.normalize();var l=Ra,m=l.subVectors(e,h).dot(k),h=l.subVectors(c,h).dot(k),b=m>h?Ua(e,f,c,d,b.D[0].point,k):Ua(c,d,e,f,b.D[2].point,k);null!=b?(a.position.copy(b),
b.add(k),a.lookAt(b),a.updateMatrix(),a=!0):a=!1}else k=Ra,k.subVectors(b.D[0].point,b.D[1].point),c=k.dot(b.D[1].plane.normal),k.subVectors(b.D[2].point,b.D[3].point),d=k.dot(b.D[3].plane.normal),e=b.D[3].plane.projectPoint(b.D[1].point),e=b.D[4].plane.projectPoint(e),k.copy(b.D[1].plane.normal).multiplyScalar(.5*c),e.add(k),k.copy(b.D[3].plane.normal).multiplyScalar(.5*d),e.add(k),k.copy(b.D[4].plane.normal).multiplyScalar(d),b=e.sub(k),e=(a.right-a.left)/(a.top-a.bottom),f=e*d,f>c?(a.right=.525*
f,a.left=-a.right,a.top=.525*d):(a.right=.525*c,a.left=-a.right,a.top=c/e*.525),a.bottom=-a.top,k.setFromMatrixColumn(2,a.matrix),k.negate().normalize(),a.position.copy(b),b.add(k),a.lookAt(b),a.updateMatrix(),a=!0;else a=!1}a&&(jd(this,this.j),this.j.updateProjectionMatrix(),R({type:"Sketchup_redraw_requested"}));this.yb.enabled=!1}this.bd=!1;1!=this.wc&&(this.d.displayListFunc=null)};
g.zc=function(a){a=this.Jc[a];p(a)&&(a=a.clone(),a.aspect=this.o.width/this.o.height,kd(a,this.o.width,this.o.height),ld(this,a))};g.va=function(){return{width:this.o.width/this.d.devicePixelRatio,height:this.o.height/this.d.devicePixelRatio}};
g.resize=function(a,b){if(null!=this.d)this.d.setSize(a,b,!0);else{var c=window.devicePixelRatio||1;this.o.width=a*c;this.o.height=b*c;1!=c&&(this.o.style.width=a+"px",this.o.style.height=b+"px")}if(null!=this.j){if(this.j instanceof THREE.OrthographicCamera){var c=a/b,d=this.j.top-this.j.bottom;this.j.left=-.5*c*d;this.j.right=.5*c*d}else this.j.aspect=a/b;this.j.updateProjectionMatrix()}this.Ja=null};g.Ba=function(a,b){this.fa.Ba(a);this.fa.md(b)};
g.Aa=function(a){this.Ef.setRGB(a[0],a[1],a[2]);this.d.setClearColor(this.Ef);this.fa.Aa(a)};g.sc=function(a){this.hc=a};g.tf=function(a){this.wc=a};g.of=function(a,b,c){if(1>a||1>b||!p(c))K("Invalid pick-buffer request.");else{if(null==this.S||this.S.width!=a||this.S.height!=b)this.S=new THREE.WebGLRenderTarget(a,b,{stencilBuffer:!1}),this.S.generateMipmaps=!1;this.S.Yd=new Uint8Array(a*b*4);this.S.ff=c;this.S.needsUpdate=!0}};g.pf=function(){this.yb.enabled=!0};
g.Ie=function(a,b,c){c.canvas=this.o;c.we=a;c.xe=b;a=a*this.d.devicePixelRatio/(.5*this.o.width)-1;b=-(b*this.d.devicePixelRatio/(.5*this.o.height)-1);this.lb.getInverse(this.j.projectionMatrix);this.lb.multiplyMatrices(this.j.matrixWorld,this.lb);this.e.set(a,b,-1);this.m.set(a,b,1);this.e.applyProjection(this.lb);this.m.applyProjection(this.lb);this.m.sub(this.e);c.N.set(this.m.x,this.m.y,this.m.z);c.N.normalize();this.m.set(a+1,b,-1);this.m.applyProjection(this.lb);this.m.sub(this.e);c.De.set(this.m.x,
this.m.y,this.m.z);this.m.set(a,b+1,-1);this.m.applyProjection(this.lb);this.m.sub(this.e);c.Ee.set(this.m.x,this.m.y,this.m.z);this.e.setFromMatrixPosition(this.j.matrix);c.v.set(this.e.x,this.e.y,this.e.z);c.Ic=this.j.near;c.Hc=this.j.far;c.Se=this.j instanceof THREE.PerspectiveCamera;c.R.copy(c.v);c.Se||(this.e.copy(c.De),this.e.multiplyScalar(a),ya(c.R,c.R,this.e),this.e.copy(c.Ee),this.e.multiplyScalar(b),ya(c.R,c.R,this.e))};g.Va=function(a){md(this,a,this.j)};
g.nf=function(a){a.Aa(this.fa.Lb());a.Ba(this.fa.Ob());a.md(this.fa.Mb());a.fb=this.hc};Pa.prototype.rd=function(a){this.Ba(a.ca,a.aa);this.Aa(a.backgroundColor);this.sc(a.fb)};Pa.prototype.$d=function(a,b){var c=this.Jc[b];p(c)&&md(this,a,c)};
fd.prototype.la=function(a){this.j.position.set(a.v.x,a.v.y,a.v.z);if(null!=a.quaternion)this.j.quaternion.copy(a.quaternion);else{this.j.up.set(a.H.x,a.H.y,a.H.z);var b=new THREE.Vector3(a.v.x+a.B.x,a.v.y+a.B.y,a.v.z+a.B.z);this.j.lookAt(b);this.j.updateMatrix()}jd(this,this.j);this.j instanceof THREE.OrthographicCamera&&a.mb&&0<a.U.h?(b=(this.j.right-this.j.left)/(this.j.top-this.j.bottom)*a.U.h,this.j.left=-.5*b,this.j.right=.5*b,this.j.bottom=-.5*a.U.h,this.j.top=.5*a.U.h):this.j instanceof THREE.PerspectiveCamera&&
!a.mb&&0<a.fov&&(this.j.fov=a.fov);this.j.updateProjectionMatrix();p(this.eb)&&this.eb.position.setFromMatrixColumn(2,this.j.matrix)};
fd.prototype.Ne=function(a,b,c,d){var e,f,h,k,l,m;e=this.fa.Ob();f=this.fa.Mb();h=this.fa.Lb();k=this.hc;l=this.j;m=this.d.devicePixelRatio;this.d.devicePixelRatio=1;null!=c&&(this.Ba(c.Ob(),c.Mb()),this.Aa(c.Lb()),this.sc(c.Rb));null!=d&&(this.Nc=0!=d.Mc);d=new THREE.WebGLRenderTarget(a,b);d.generateMipmaps=!1;c=null!=c&&c.Ac?this.Jc[c.na]:this.j.clone();c.aspect=a/b;kd(c,a,b);ld(this,c);d=id(this,d,a,b);this.d.setRenderTarget(d);this.d.clear(!0,!0,!1);this.za.enabled=!1;Ja=c;this.d.setViewport(0,
0,a,b);this.d.render(this.ba,c,d,!0);c=new Uint8Array(a*b*4);this.d.context.readPixels(0,0,a,b,this.d.context.RGBA,this.d.context.UNSIGNED_BYTE,c);this.Ba(e,f);this.Aa(h);this.sc(k);kd(l,this.o.width,this.o.height);ld(this,l);this.d.setSize(this.o.width,this.o.height);this.d.devicePixelRatio=m;return c};function ld(a,b){jd(a,b);b.updateProjectionMatrix();a.j=b;p(a.eb)&&a.eb.position.setFromMatrixColumn(2,a.j.matrix)}
function kd(a,b,c){a instanceof THREE.OrthographicCamera&&(b=b/c*(a.top-a.bottom),a.left=-.5*b,a.right=.5*b)}
function md(a,b,c){a.e.setFromMatrixPosition(c.matrix);b.v.set(a.e.x,a.e.y,a.e.z);if(null!=b.H){var d=c.up;b.H.set(d.x,d.y,d.z)}null!=b.B&&(a.e.setFromMatrixColumn(2,c.matrix),b.B.set(a.e.x,a.e.y,a.e.z),b.B.scale(-1));null!=b.quaternion&&b.quaternion.copy(c.quaternion);c instanceof THREE.OrthographicCamera?(b.mb=!0,b.U.set(c.right-c.left,c.top-c.bottom),b.fov=0):(b.mb=!1,b.U.set(0,0),b.fov=c.fov)}
function id(a,b,c,d){if(2==a.wc){if(null===a.Ja||a.Ja.width!=c||a.Ja.height!=d)a.Ja=new THREE.WebGLRenderTarget(c,d,{magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter,depthBuffer:!0,stencilBuffer:!1}),a.Ja.generateMipmaps=!1;a.Ya.ed=a.Ja;a.Ya.V=b;a.d.renderTransparentObjects=!1;a.d.computeRenderDepth=!1;return a.Ja}a.Ja=void 0;a.Ya.ed=void 0;a.Ya.V=void 0;a.Ya.enabled=!1;a.d.renderTransparentObjects=!0;a.d.computeRenderDepth=!0;return b}
function jd(a,b){if(null!=a.kc){a.e.setFromMatrixPosition(b.matrix);a.m.setFromMatrixColumn(2,b.matrix);a.m.negate();for(var c=0,d=0,e=0;e<a.kc.length;++e){a.Ff.subVectors(a.kc[e],a.e);var f=oa(a.Ff,a.m);0==e?c=d=f:(c=Math.min(c,f),d=Math.max(d,f))}0<d&&(b.near=Math.max(.99*c,.005*d),b.far=1.01*d)}};function nd(){this.Df=[];this.He=[]}nd.prototype.typeName="iErrorLogger";nd.prototype.handleEvent=function(a){var b=a.ic||"warning";a=new $a(b,a.jc||"UnknownSource",a.errorCode||0,a.Pc);"warning"==b?this.Df.push(a):this.He.push(a)};nd.prototype.reset=function(){this.Df=[];this.He=[]};O&&P(12);function od(a,b){S.call(this);var c=this.gc=a,c=w(c)&&1==c.nodeType?this.gc:this.gc?this.gc.body:null,d;if(d=!!c){a:{d=9==c.nodeType?c:c.ownerDocument||c.document;if(d.defaultView&&d.defaultView.getComputedStyle&&(d=d.defaultView.getComputedStyle(c,null))){d=d.direction||d.getPropertyValue("direction")||"";break a}d=""}d="rtl"==(d||(c.currentStyle?c.currentStyle.direction:null)||c.style&&c.style.direction)}this.hg=d;this.Ue=Q(this.gc,wc?"DOMMouseScroll":"mousewheel",this,b)}B(od,S);
od.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.Ha;if("mousewheel"==a.type){c=1;if(O||xc&&(zc||P("532.0")))c=40;d=pd(-a.wheelDelta,c);p(a.wheelDeltaX)?(b=pd(-a.wheelDeltaX,c),c=pd(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),p(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;if(v(this.We))var e=this.We,b=Math.min(Math.max(b,-this.We),e);v(this.Xe)&&(e=this.Xe,c=Math.min(Math.max(c,-this.Xe),e));this.hg&&(b=-b);b=new qd(d,a,b,c);this.dispatchEvent(b)};
function pd(a,b){return xc&&(yc||Ac)&&0!=a%b?a:a/b}od.prototype.ec=function(){od.od.ec.call(this);Wc(this.Ue);this.Ue=null};function qd(a,b,c,d){Kc.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d}B(qd,Kc);var rd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function sd(a){if(td){td=!1;var b=n.location;if(b){var c=b.href;if(c&&(c=(c=sd(c)[3]||null)?decodeURI(c):c)&&c!=b.hostname)throw td=!0,Error();}}return a.match(rd)}var td=xc;
function ud(a,b){for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("="),f=null,h=null;0<=e?(f=c[d].substring(0,e),h=c[d].substring(e+1)):f=c[d];b(f,h?decodeURIComponent(h.replace(/\+/g," ")):"")}};function T(a,b){this.Ea=this.wb=this.Wa="";this.Wb=null;this.gb=this.xa="";this.ga=this.gg=!1;var c;if(a instanceof T)this.ga=p(b)?b:a.ga,vd(this,a.Wa),c=a.wb,U(this),this.wb=c,c=a.Ea,U(this),this.Ea=c,wd(this,a.Wb),c=a.xa,U(this),this.xa=c,xd(this,a.Ka.clone()),c=a.gb,U(this),this.gb=c;else if(a&&(c=sd(String(a)))){this.ga=!!b;vd(this,c[1]||"",!0);var d=c[2]||"";U(this);this.wb=yd(d);d=c[3]||"";U(this);this.Ea=yd(d,!0);wd(this,c[4]);d=c[5]||"";U(this);this.xa=yd(d,!0);xd(this,c[6]||"",!0);c=c[7]||
"";U(this);this.gb=yd(c)}else this.ga=!!b,this.Ka=new zd(null,0,this.ga)}T.prototype.toString=function(){var a=[],b=this.Wa;b&&a.push(Ad(b,Bd,!0),":");if(b=this.Ea){a.push("//");var c=this.wb;c&&a.push(Ad(c,Bd,!0),"@");a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.Wb;null!=b&&a.push(":",String(b))}if(b=this.xa)this.Ea&&"/"!=b.charAt(0)&&a.push("/"),a.push(Ad(b,"/"==b.charAt(0)?Cd:Dd,!0));(b=this.Ka.toString())&&a.push("?",b);(b=this.gb)&&a.push("#",Ad(b,Ed));return a.join("")};
T.prototype.resolve=function(a){var b=this.clone(),c=!!a.Wa;c?vd(b,a.Wa):c=!!a.wb;if(c){var d=a.wb;U(b);b.wb=d}else c=!!a.Ea;c?(d=a.Ea,U(b),b.Ea=d):c=null!=a.Wb;d=a.xa;if(c)wd(b,a.Wb);else if(c=!!a.xa){if("/"!=d.charAt(0))if(this.Ea&&!this.xa)d="/"+d;else{var e=b.xa.lastIndexOf("/");-1!=e&&(d=b.xa.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],h=0;h<e.length;){var k=e[h++];"."==k?d&&h==e.length&&
f.push(""):".."==k?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&h==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?(U(b),b.xa=d):c=""!==a.Ka.toString();c?xd(b,yd(a.Ka.toString())):c=!!a.gb;c&&(a=a.gb,U(b),b.gb=a);return b};T.prototype.clone=function(){return new T(this)};function vd(a,b,c){U(a);a.Wa=c?yd(b,!0):b;a.Wa&&(a.Wa=a.Wa.replace(/:$/,""))}function wd(a,b){U(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Wb=b}else a.Wb=null}
function xd(a,b,c){U(a);b instanceof zd?(a.Ka=b,a.Ka.fe(a.ga)):(c||(b=Ad(b,Fd)),a.Ka=new zd(b,0,a.ga))}function U(a){if(a.gg)throw Error("Tried to modify a read-only Uri");}T.prototype.fe=function(a){this.ga=a;this.Ka&&this.Ka.fe(a);return this};function Gd(a){return a instanceof T?a.clone():new T(a,void 0)}function yd(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}
function Ad(a,b,c){return u(a)?(a=encodeURI(a).replace(b,Hd),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Hd(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Bd=/[#\/\?@]/g,Dd=/[\#\?:]/g,Cd=/[\#\?]/g,Fd=/[\#\?@]/g,Ed=/#/g;function zd(a,b,c){this.C=this.F=null;this.Y=a||null;this.ga=!!c}function Id(a){a.F||(a.F=new jc,a.C=0,a.Y&&ud(a.Y,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}g=zd.prototype;g.oc=function(){Id(this);return this.C};
g.add=function(a,b){Id(this);this.Y=null;a=Jd(this,a);var c=this.F.get(a);c||this.F.set(a,c=[]);c.push(b);this.C++;return this};g.remove=function(a){Id(this);a=Jd(this,a);return this.F.bc(a)?(this.Y=null,this.C-=this.F.get(a).length,this.F.remove(a)):!1};g.clear=function(){this.F=this.Y=null;this.C=0};g.Ia=function(){Id(this);return 0==this.C};g.bc=function(a){Id(this);a=Jd(this,a);return this.F.bc(a)};
g.jb=function(){Id(this);for(var a=this.F.wa(),b=this.F.jb(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};g.wa=function(a){Id(this);var b=[];if(u(a))this.bc(a)&&(b=Wb(b,this.F.get(Jd(this,a))));else{a=this.F.wa();for(var c=0;c<a.length;c++)b=Wb(b,a[c])}return b};g.set=function(a,b){Id(this);this.Y=null;a=Jd(this,a);this.bc(a)&&(this.C-=this.F.get(a).length);this.F.set(a,[b]);this.C++;return this};
g.get=function(a,b){var c=a?this.wa(a):[];return 0<c.length?String(c[0]):b};g.setValues=function(a,b){this.remove(a);0<b.length&&(this.Y=null,this.F.set(Jd(this,a),Xb(b)),this.C+=b.length)};g.toString=function(){if(this.Y)return this.Y;if(!this.F)return"";for(var a=[],b=this.F.jb(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.wa(d),f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="="+encodeURIComponent(String(d[f])));a.push(h)}return this.Y=a.join("&")};
g.clone=function(){var a=new zd;a.Y=this.Y;this.F&&(a.F=this.F.clone(),a.C=this.C);return a};function Jd(a,b){var c=String(b);a.ga&&(c=c.toLowerCase());return c}g.fe=function(a){a&&!this.ga&&(Id(this),this.Y=null,this.F.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.setValues(d,a))},this));this.ga=a};g.extend=function(a){for(var b=0;b<arguments.length;b++)uc(arguments[b],function(a,b){this.add(b,a)},this)};function Kd(a){this.wg=a;this.Ma={};this.ud={};this.Yc={};this.lc={};this.ha={};this.ob={};this.rc={}}g=Kd.prototype;g.typeName="iModel";g.name="Untitled";g.Ma=void 0;g.ud=void 0;g.Yc=void 0;g.lc=void 0;g.ha=void 0;g.ob=void 0;g.rc=void 0;g.he=void 0;g.Bd=null;g.Z=function(){return this.ud};function Ld(a){for(var b in a.rc)return a.rc[b]}function xa(a,b){var c=b||null;if(!c)return null;var d=a.Z();return c in d&&(c=d[c].getStyle())&&(d=a.he,c in d)?d[c]:null}
function Md(a){for(var b=Ld(a).Z(),c=b.length,d=void 0,e=[],f=0;f<c;++f){var h=b[f],k=a.Z()[h];p(k)&&("__initialVisual__"==h?d={id:h,name:k.getName()}:e.push({id:h,name:k.getName()}))}p(d)&&0==e.length&&e.push(d);return e};function Nd(a,b,c,d){C.call(this,d);this.wf=a;this.Oc=b;this.Fa=Math.max(0,c);this.uc=0;this.ke=0<this.Fa?1/this.Fa:0;this.Ve=new H(0,0,0);this.mf=new THREE.Quaternion;this.Gd=0;this.Le=1;this.Vb=new H(0,0,0);this.Zd=new THREE.Quaternion;this.Jb=0;this.Id=1;this.hd=!1}B(Nd,C);var Od=new G(0,0,0),V=new Ba(!0);Nd.prototype.ib=function(){return this.Fa};
Nd.prototype.Cb=function(a){var b=E;this.uc=a;this.hd=!1;b.$d(V,this.Oc);this.Vb.copy(V.v);this.Zd.copy(V.quaternion);this.Jb=V.fov;this.Id=V.U.h;var c=V.mb;a=!1;null!=this.wf?(b.$d(V,this.wf),b.la(V),a=!0):b.Va(V);this.Ve.copy(V.v);this.mf.copy(V.quaternion);this.Gd=V.fov;this.Le=V.U.h;c!=V.mb&&(c?(b=ha.Ma[this.Oc],null==b||b.Sa||(c=b.target(),ma(Od,c,this.Vb),Od.normalize(),this.Jb=this.Gd,c=Math.tan(this.Jb*Math.PI/360),Od.scale(-(.5*(b.Sa?0:b.Wd)/c)),ya(this.Vb,b.target(),Od),this.hd=!0)):(b=
ha.Ma[this.Oc],null!=b&&b.Sa&&(b=b.target(),ma(Od,b,this.Vb),this.Id=2*Od.getLength()*Math.tan(this.Jb*Math.PI/360),this.hd=!0)));return a};Nd.prototype.xc=function(a){a=(a-this.uc)*this.ke;a=Math.min(1,a);this.Fe&&(a=ia(a));V.v.lerp(this.Ve,this.Vb,a);THREE.Quaternion.slerp(this.mf,this.Zd,V.quaternion,a);var b=1-a;V.fov=b*this.Gd+a*this.Jb;V.U.h=b*this.Le+a*this.Id;E.la(V);return!0};
Nd.prototype.da=function(){this.hd?E.zc(this.Oc):(V.v.copy(this.Vb),V.quaternion.copy(this.Zd),V.fov=this.Jb,E.la(V));return!0};function Pd(a,b){this.f=a;this.K=b||new bd};function W(a){this.Xb=a.Nb();this.T=a}A("sketchup.api2.Model",W);W.prototype.getName=function(){return p(this.Xb)?this.Xb.name:""};W.prototype.getName=W.prototype.getName;W.prototype.bg=function(){var a;if(p(this.Xb)){a=Ld(this.Xb).Z();var b=a.length;-1!=a.indexOf("__initialVisual__")&&1<b&&--b;a=b}else a=0;return a};W.prototype.getNumScenes=W.prototype.bg;W.prototype.pc=function(){var a=[];if(null!=this.Xb)for(var b=Md(this.Xb),c=0,d=b.length;c<d;c++)a.push(new qa(b[c].id,b[c].name));return a};
W.prototype.getScenes=W.prototype.pc;function Qd(a){this.vd=a||XMLHttpRequest}g=Qd.prototype;g.typeName="iSkjReader";g.ne=null;g.sa=null;g.f=null;g.load=function(a){this.ne=new T(a);Rd(this,a)};g.parse=function(a){this.ne=new T("");this.sa=Sd(this,a);Td(this)};g.Nb=function(){return this.f};function Sd(a,b){try{return p(JSON)?JSON.parse(b):ub(b)}catch(c){throw R({type:"SkjReader_Error",ic:"fatal-error",errorCode:900,jc:a.typeName,Pc:c.message}),c;}}
function Rd(a,b){var c=new a.vd;c.onreadystatechange=y(function(){if(4==c.readyState)if(200==c.status){var a=c.responseText;R("SkjReader_Downloaded");this.sa=Sd(this,a);Td(this)}else 400<=c.status&&R({type:"SkjReader_Error",ic:"fatal-error",errorCode:404,jc:this.typeName,Pc:c.status})},a);c.open("GET",b,!0);c.send(null)}
function Td(a){a.f=null;null==a.sa.model&&null!=a.pg&&a.pg(a.f);a.f=new Kd(a.ne.clone());var b=new pc(y(function(){R("SkjReader_Viewable")},a),y(function(){R({type:"SkjReader_Error",errorCode:900,ic:"fatal-error",jc:this.typeName})},a),y(function(a){R({type:"SkjReader_Progress",rh:.75+.25*a})},a));qc(b,a,Qd.prototype.Vf);qc(b,a,Qd.prototype.Pf);qc(b,a,Qd.prototype.Wf);qc(b,a,Qd.prototype.Rf);qc(b,a,Qd.prototype.Sf);qc(b,a,Qd.prototype.Qf);qc(b,a,Qd.prototype.Tf);qc(b,a,Qd.prototype.Uf);sc(b)}
g.Pf=function(){var a=this.sa.model.cameras;if(null==a)return 0;var b=this.f;b.Ma={};var c=0,d;for(d in a)if(w(a[d])){var e=new Ca;e.G(a[d])&&(b.Ma[d]=e,++c)}return 1};g.Wf=function(){var a=this.sa.model.visuals;if(null==a)return 0;var b=this.f;b.ud={};var c=0,d;for(d in a)if(w(a[d])){var e=new Qb;e.G(a[d])&&null!=b.Ma[e.na]&&(b.ud[d]=e,++c)}return 1};
g.Vf=function(){var a=this.sa.model.styles;if(null==a)return 1;var b=this.f;b.he={};var c=0,d;for(d in a)if(w(a[d])){var e=new Ob;e.G(a[d])&&(b.he[d]=e,++c)}return 1};g.Qf=function(){var a=this.sa.model.geometry;if(null==a)return 0;var b=this.f;b.lc={};var c=0,d;for(d in a){var e=a[d];if(w(e)){var f=e.type;p(f)?"simple-mesh"==f?(f=new Ea,f.G(e)?(b.lc[d]=f,++c):K("Invalid skj-geometry entity.")):K('Mesh type "'+f+'" is not yet supported.'):K("Missing type property in skj-geometry entity.")}}return 1};
g.Tf=function(){var a=this.sa.model.objects;if(null==a)return 0;var b=this.f;b.ha={};var c=0,d;for(d in a){var e=a[d];if(w(e)){var f=e.type;if(p(f)){var h=void 0;switch(f){case "node":h=new Jb;break;case "instance":h=new Kb;break;case "geometry":h=new Ib;break;default:K('Object type "'+f+'" is not yet supported.')}p(h)&&h.G(e)&&(b.ha[d]=h,++c)}else K("Missing type property in skj-object entity.")}}a=this.f;b=0;for(c=!1;!c;){var c=!0,b=0,k;for(k in a.ha)d=a.ha[k],e=!0,++b,e="iGeometryNode"==d.typeName?
d.sd(a.lc):d.sd(a.ha),e||(delete a.ha[k],c=!1)}return 1};g.Uf=function(){var a=this.sa.model.scenes;if(null==a)return 0;var b=this.f;b.rc={};var c=0,d;for(d in a)if(w(a[d])){var e=new Lb;e.G(a[d])&&(b.rc[d]=e,++c)}return 1};g.Rf=function(){var a=this.sa.model.layers;if(null==a)return 0;var b=this.f;b.Yc={};var c=0,d;for(d in a)if(w(a[d])){var e=new Da;e.G(a[d])&&(b.Yc[d]=e,++c)}return 1};
g.Sf=function(){var a=this.sa.model.materials;if(null==a)return 0;var b=this.f;b.ob={};var c=0,d;for(d in a){var e=a[d];if(w(e)){var f=e.type;if(p(f)){var h=void 0;switch(f){case "rgba-color":h=new Nb;break;case "rgba-array":h=new Pb;break;case "simple-texture":h=new Mb;break;default:K('Material type "'+f+'" is supported.')}p(h)&&h.G(e)&&(b.ob[d]=h,++c)}else K("Missing type property in skj-material entity.")}}b.Bd=null;b.Ae=null;a=b.ob.__frontfaceDefault__;null!=a&&"iSolidColorMaterial"==a.typeName&&
(b.Bd=a);a=b.ob.__backfaceDefault__;null!=a&&"iSolidColorMaterial"==a.typeName&&(b.Ae=a);return 1};function Ud(a){this.mg=a}Ud.prototype.typeName="iSkjAssetResolver";function Vd(a){this.f=a;this.Af={};this.Cf=this.se=this.qb=0;this.je={};this.Lf=new Ud(this.f.wg)}Vd.prototype.typeName="iTextureManager";function Wd(a,b){var c=b.Nd,d=a.Af[c];if(!p(d)){a.qb++;a.Cf++;d=a.Lf;if(p(db)){var d=sd(c)[5],e=d.slice(0,d.lastIndexOf("/")+1);/^\/+$/.test(e)||e.replace(/\/+$/,"");d=db+d.slice(d.lastIndexOf("/")+1)}else d=d.mg,e=c,d instanceof T||(d=Gd(d)),e instanceof T||(e=Gd(e)),d=d.resolve(e).toString();d=Xd(a,d);a.Af[c]=d;.95<b.rb&&b.Ld&&a.se++}return d}
function Yd(a,b,c){var d=a.je[b.id];p(d)||(d=[],a.je[b.id]=d);d.push(c)}
function Xd(a,b){var c=new THREE.Texture(void 0,THREE.UVMapping);c.wrapS=THREE.RepeatWrapping;c.wrapT=THREE.RepeatWrapping;var d=(new THREE.ImageLoader).load(b,y(function(){var a=this.je[c.id];if(p(a))for(var b=a.length,d=0;d<b;d++)a[d](c);c.needsUpdate=!0;R({type:"Sketchup_texture_update"});this.qb--;0==this.qb&&Zd()},a),void 0,y(function(){R({type:"TextureManager_Error",errorCode:1001,ic:"recoverable-error",jc:this.typeName,Pc:b});this.qb--;0==this.qb&&Zd()},a));c.image=d;c.sourceFile=b;return c}
function Zd(){R({type:"Sketchup_all_textures_ready"})};function $d(a,b,c,d){this.cc={};this.t={};this.t[ae]={type:"i",value:0};this.t[be]={type:"i",value:1};this.t[ce]={type:"i",value:b?1:0};this.t[de]={type:"i",value:0};this.$c={};this.Oe=a.attributes;this.t.ambientLightColor={type:"fv",value:null};this.t.directionalLightColor={type:"fv",value:null};this.t.directionalLightDirection={type:"fv",value:null};this.t.pointLightColor={type:"unused",value:null};this.t.pointLightPosition={type:"unused",value:null};this.t.pointLightDistance={type:"unused",value:null};
this.t.spotLightColor={type:"unused",value:null};this.t.spotLightPosition={type:"unused",value:null};this.t.spotLightDistance={type:"unused",value:null};this.t.spotLightDirection={type:"unused",value:null};this.t.spotLightAngleCos={type:"unused",value:null};this.t.spotLightExponent={type:"unused",value:null};this.t.hemisphereLightSkyColor={type:"unused",value:null};this.t.hemisphereLightGroundColor={type:"unused",value:null};this.t.hemisphereLightDirection={type:"unused",value:null};this.W=d;this.yd=
this.Je=!1;this.Bb=this.Kb=null;this.fg=c}var ae="uUseBackColor",be="uDoubleSided",ce="uTriangleIsFlipped",de="uDrawingLines";
function ee(a){var b={wireframe:!1,transparent:a.Je||a.yd,side:THREE.DoubleSide,lights:!0,shading:THREE.SmoothShading,defines:a.cc,uniforms:a.t,attributes:a.$c,vertexShader:J.mainvertex,fragmentShader:J.mainfragment,polygonOffset:!0,polygonOffsetFactor:a.fg?.8:1,polygonOffsetUnits:1},c=new THREE.ShaderMaterial(b);null!=a.Kb&&Yd(a.W,a.Kb,function(){b.uniforms.uFrontTextureIsReady.value=1});null!=a.Bb&&Yd(a.W,a.Bb,function(){b.uniforms.uBackTextureIsReady.value=1});return c}
function fe(a,b,c){var d=4*(null!=b.Bc?b.Bc.length>>2:0);a.Oe[c]={itemSize:4,array:new Float32Array(d),numItems:d};b=b.Bc;for(var e=a.Oe[c].array,f=0,h=0;f<d;)e[f++]=b[h++],e[f++]=b[h++],e[f++]=b[h++],e[f++]=b[h++];a.$c[c]=null}function ge(a){return null!=a&&"iSimpleTextureMaterial"==a.typeName};function he(){this.k=null}he.prototype.typeName="iSgCompilerThreejs";var ie={id:null,oa:!1,Uc:!1};he.prototype.qb=0;
function je(a,b,c,d,e){a.f=c;a.uf={};a.vf={};a.W=e;a.kd=new Ga;a.qb=0;b=new fd(b);a.k=b;c=a.f.Ma;e=a.k.va();for(var f in c){var h=c[f],k;if(h.Sa)k=new THREE.PerspectiveCamera(h.fov(),e.width/e.height,300,1E3);else{k=h.Sa?0:h.Wd;var l=e.width/e.height*k;k=new THREE.OrthographicCamera(-(l/2),l/2,k/2,-(k/2),300,1E3)}l=h.position();k.position.set(l.x,l.y,l.z);l=h.up();k.up.set(l.x,l.y,l.z);h=h.target();k.lookAt(new THREE.Vector3(h.x,h.y,h.z));k.updateMatrix();a.k.Jc[f]=k}f=a.f.lc;for(var m in f)c=f[m],
"iSimpleMesh"==c.typeName?(e=null,null!=c.ka&&(e=c,h=new THREE.BufferGeometry,k=h.attributes,k.index={itemSize:1,array:e.ka,numItems:e.ka.length},k.normal={itemSize:3,array:e.normals,numItems:e.normals.length},h.offsets=[{start:0,count:e.ka.length,index:0}],k.position={itemSize:3,array:e.positions,numItems:e.positions.length},null===e.hb||(k.aFrontTextureUV={itemSize:2,array:e.hb,numItems:e.hb.length}),null===e.ab||(k.aBackTextureUV={itemSize:2,array:e.ab,numItems:e.ab.length}),h.Ce=!1,h.computeBoundingSphere(),
e=h),null!=c.lines&&(null!=e?(h=e,h.attributes.lineIndex={itemSize:1,array:c.lines,numItems:c.lines.length},h.lineOffsets=[{start:0,count:c.lines.length,index:0}]):(e=new THREE.BufferGeometry,h=e.attributes,h.index={itemSize:1,array:c.lines,numItems:c.lines.length},e.offsets=[{start:0,count:c.lines.length,index:0}],h.position={itemSize:3,array:c.positions,numItems:c.positions.length},e.Ce=!0,e.computeBoundingSphere())),c=e):(K("Don't know how to convert: "+c.typeName),c=null),a.uf[m]=c;f=a.f.ha;m=
new THREE.Object3D;f=f[d];p(f)&&(ke(a,d,f,ie,m),"iGroupNode"==f.typeName&&(d=f.getBoundingBox(),a.kd.set(d.J,d.I)));m.updateMatrixWorld();for(d=new THREE.Scene;0<m.children.length;)f=m.children.pop(),d.add(f);m=a.k;a=a.kd;m.ba=d;m.kd=a;a=[new H(a.J.x,a.J.y,a.J.z),new H(a.I.x,a.J.y,a.J.z),new H(a.J.x,a.I.y,a.J.z),new H(a.I.x,a.I.y,a.J.z),new H(a.J.x,a.J.y,a.I.z),new H(a.I.x,a.J.y,a.I.z),new H(a.J.x,a.I.y,a.I.z),new H(a.I.x,a.I.y,a.I.z)];m.kc=[];for(d=0;d<a.length;++d)m.kc.push(new THREE.Vector3(a[d].x,
a[d].y,a[d].z));null!=m.j&&(jd(m,m.j),m.j.updateProjectionMatrix());return b}
function ke(a,b,c,d,e){var f=null;if(!c.Md){if("iGeometryNode"==c.typeName)a:{f=c.jg;if(null!=f&&(f=a.f.Yc[f],null!=f&&!f.td)){f=null;break a}f=a.uf[c.mc];if(null!=f){p(a.Te)||(a.Te=new THREE.LineBasicMaterial({color:0}));if(f.Ce)c=new THREE.Line(f,a.Te,THREE.LinePieces);else{if(p(f.attributes.aFrontColor)||p(f.attributes.aBackColor)){var h=new THREE.BufferGeometry,k=h.attributes;k.index=f.attributes.index;k.position=f.attributes.position;k.normal=f.attributes.normal;h.offsets=f.offsets;"lineIndex"in
f.attributes&&(k.lineIndex=f.attributes.lineIndex,h.lineOffsets=f.lineOffsets);p(f.attributes.aFrontTextureUV)&&(k.aFrontTextureUV=f.attributes.aFrontTextureUV);p(f.attributes.aBackTextureUV)&&(k.aBackTextureUV=f.attributes.aBackTextureUV);h.computeBoundingSphere();f=h}k=d.oa;c.Hd||(k=!k);h=c.Ke;null!=h||(h=d.id);var l=null,l=null!=h?a.f.ob[h]:a.f.Bd;null!=l&&"iSimpleTextureMaterial"==l.typeName&&Wd(a.W,l);h=l;null!=h?(c=c.Nf,null!=c||(c=d.id),l=null,l=null!=c?a.f.ob[c]:a.f.Ae,null!=l&&"iSimpleTextureMaterial"==
l.typeName&&Wd(a.W,l),c=l,d=new $d(f,k,d.Uc,a.W),null!=h&&"iSolidColorMaterial"==h.typeName?(k=h.nc(),d.t.uFrontColor={type:"v4",value:new THREE.Vector4(k[0],k[1],k[2],k[3])}):null!=h&&"iVertexColorMaterial"==h.typeName?(fe(d,h,"aFrontColor"),d.cc.USE_FRONT_VERTEX_COLORS=1):ge(h)&&(d.Kb=Wd(d.W,h),null!=d.Kb&&(k=h.nc(),d.t.uFrontColor={type:"v4",value:new THREE.Vector4(k[0],k[1],k[2],h.rb)},d.t.uFrontTexture={type:"t",value:d.Kb},d.t.uFrontUVScale={type:"v2",value:new THREE.Vector2(h.be,h.ce)},d.t.uFrontOpacity=
{type:"f",value:h.rb},d.t.uFrontTextureIsReady={type:"i",value:d.Kb.image.complete?1:0},d.cc.USE_FRONT_TEXTURE=1,d.$c.aFrontTextureUV=null)),d.Je=h.Wc(),null!=c&&(d.t[ae]={type:"i",value:1},null!=c&&"iSolidColorMaterial"==c.typeName?(h=c.nc(),d.t.uBackColor={type:"v4",value:new THREE.Vector4(h[0],h[1],h[2],h[3])},d.yd=1>h[3]):null!=c&&"iVertexColorMaterial"==c.typeName?(fe(d,c,"aBackColor"),d.cc.USE_BACK_VERTEX_COLORS=1):ge(c)&&(d.Bb=Wd(d.W,c),null!=d.Bb&&(h=c.nc(),d.t.uBackColor={type:"v4",value:new THREE.Vector4(h[0],
h[1],h[2],c.rb)},d.t.uBackTexture={type:"t",value:d.Bb},d.t.uBackUVScale={type:"v2",value:new THREE.Vector2(c.be,c.ce)},d.t.uBackOpacity={type:"f",value:c.rb},d.t.uBackTextureIsReady={type:"i",value:d.Bb.image.complete?1:0},d.cc.USE_BACK_TEXTURE=1,d.$c.aBackTextureUV=null)),d.yd=c.Wc()),c=new THREE.Mesh(f,ee(d))):c=null}f=c}else f=null}else if("iGroupNode"==c.typeName){f=c.Eb;h=f.length;l=c.qa;k=void 0;d={id:d.id,oa:d.oa,Uc:"image"==c.yf};null!=c.pb&&(d.id=c.pb);if(1!=h||null!==l||c.Fd){k=c.Fd?new I:
new THREE.Object3D;k.matrixAutoUpdate=!1;if(null!==l){c=new THREE.Matrix4;var m=c.elements;m[0]=l[0];m[1]=l[1];m[2]=l[2];m[3]=l[3];m[4]=l[4];m[5]=l[5];m[6]=l[6];m[7]=l[7];m[8]=l[8];m[9]=l[9];m[10]=l[10];m[11]=l[11];m[12]=l[12];m[13]=l[13];m[14]=l[14];m[15]=l[15];k.applyMatrix(c)}c=a.f.ha;for(l=0;l<h;++l)m=L(f[l]),r=c[m],p(r)&&ke(a,m,r,d,k)}else{var m=L(f[0]),r=a.f.ha[m];p(r)&&(k=ke(a,m,r,d))}f=k}else"iInstanceNode"==c.typeName?(d={id:d.id,oa:d.oa,Uc:d.Uc},null!=c.pb&&(d.id=c.pb),c.sf&&(d.oa=!d.oa),
f=c.dc,h=a.vf[f],null!=h?null!=d.id||h.oa!=d.oa?(h=a.f.ha[f],d=h=ke(a,null,h,d)):d=h.clone():(h=a.f.ha[f],h=ke(a,f,h,d),null===h?d=null:(h.oa=d.oa,d=null!=h?h.clone():null)),null===d?f=null:(c=c.qa,null!==c&&(f=new THREE.Matrix4,h=f.elements,h[0]=c[0],h[1]=c[1],h[2]=c[2],h[3]=c[3],h[4]=c[4],h[5]=c[5],h[6]=c[6],h[7]=c[7],h[8]=c[8],h[9]=c[9],h[10]=c[10],h[11]=c[11],h[12]=c[12],h[13]=c[13],h[14]=c[14],h[15]=c[15],d.applyMatrix(f)),d.matrixAutoUpdate=!1,f=d)):K("Don't know how to convert node of type "+
c.typeName);null!==f&&null!==b&&(a.vf[b]=f,p(e)&&e.add(f))}return f};function le(a){this.o=a;this.W=this.k=null;this.Hb=this.ua=!1;this.Ec=void 0;this.Oa=new ib;this.ge=eb;this.K=new bd;this.jf=new za;this.ac=new nc;this.zb=void 0;this.ue=y(this.Mf,this);Q(Zc,"Sketchup_texture_update",y(this.Tc,this,!1),!1);Q(Zc,"Sketchup_redraw_requested",y(this.Tc,this,!0),!1)}g=le.prototype;g.typeName="iSgManager";g.ua=!1;g.ge=!1;g.Hb=!1;g.va=function(){return null!=this.k?this.k.va():{width:this.o.width,height:this.o.height}};
g.resize=function(a,b){if(null!=this.k)this.k.resize(a,b),jb(this.Oa,a,b,this.k);else{var c=window.devicePixelRatio||1;this.o.width=a*c;this.o.height=b*c;1!=c&&(this.o.style.width=a+"px",this.o.style.height=b+"px")}this.ua=!0};function me(a,b){a.K.ja();ne(a);oe(a);a.f=b;var c=Ld(b),d=new he;a.W=new Vd(b);a.k=je(d,a.o,b,c.ae,a.W);c=a.k.va();jb(a.Oa,c.width,c.height,a.k);0<a.W.se&&a.k.tf(1);pe(a);qe(a);Uc(Zc,"Sketchup_all_textures_ready",function(){this.W=null},!1,a);0==a.W.Cf&&Zd();a.ua=!0}
g.Tc=function(a){this.ua=!0;a&&p(this.k)&&(a=this.k.va(),jb(this.Oa,a.width,a.height,this.k))};g.zc=function(a){null!=this.k&&(this.k.zc(a),a=this.k.va(),jb(this.Oa,a.width,a.height,this.k),this.ua=!0)};function re(a,b){if(null!=a.k&&null!=a.f){var c=a.f.Z()[b];null!=c&&(a.k.Ba(c.Ob(),c.Mb()),a.k.Aa(c.Lb()),a.k.sc(c.Rb),c.Ac&&a.zc(c.na),c=xa(a.f,b),null!=c&&(a.k.Nc=0!=c.Mc))}}g.nd=function(a){p(this.K)&&!this.K.Ra&&this.K.nd(this.k,this.f,a?cd:bd.Vg)};
g.ja=function(a){null!=this.K&&this.K.ja();a&&!p(this.Oa.ya)&&this.Tc(!0)};g.Cc=function(){null!=this.k&&null!=this.f&&(this.k.pf(),this.ua=!0)};g.Va=function(a){this.k.Va(a)};g.la=function(a,b){null!=a&&this.k.la(a);if(b){var c=this.k.va();jb(this.Oa,c.width,c.height,this.k)}this.ua=!0};function ne(a){a.Hb&&(p(a.Ec)&&(window.cancelAnimationFrame(a.Ec),a.Ec=void 0),a.K.ja(),a.Hb=!1)}
function se(a,b,c,d,e,f){var h=void 0,k=void 0;if(p(e)&&(h=a.f.Z()[e],k=xa(a.f,e),!p(h))){p(f)&&f(e);return}f=y(function(){var a=this.k.Ne(b,c,h,k);d(a,b,c,e)},a);te(a,f)}function qe(a){var b=a.f.Z();if("__initialVisual__"in b)re(a,"__initialVisual__");else if("camera1"in a.f.Ma){var c=Ld(a.f),c=c.Z()[0],c=a.f.Z()[c].clone();c.na="camera1";b.__initialVisual__=c;re(a,"__initialVisual__")}else c=Ld(a.f),c=c.Z()[0],re(a,c)}
function pe(a){var b=Md(a.f);a=new Pd(a.f,a.K);for(var c=[],d=0,e=b.length;d<e;d++)c.push(b[d].id);a.K.clear();b=a.f.Z();d=0;for(e=c.length;d<e;d++){var f=c[d],h=b[f];if(h.Ac){var k=a,l=new ja(f);l.add(new Nd(null,h.na,2E3));l.add(new sa(null,f,2E3));ed(k.K,new wa(f,f));ed(k.K,l);h=a;k=new ka(1E3,void 0);ed(h.K,k)}}}function te(a,b){p(a.zb)&&window.clearTimeout(a.zb);a.ac.ma.push(b);a.zb=window.setTimeout(a.ue,1)}function oe(a){p(a.zb)&&window.clearTimeout(a.zb);a.ac.clear()}
g.Mf=function(){p(this.k)&&this.k.Re()&&(this.ac.Ia()||oc(this.ac)());this.ac.Ia()||(this.zb=window.setTimeout(this.ue,1))};function ue(a){var b=0,c=null,c=y(function(){if(this.Hb){this.Ec=window.requestAnimationFrame(c);var a=this.K.update();a&&(this.Oa.ya=void 0,!this.K.Ra&&this.Tc(!0));if(a||this.ua)a=0,this.ge&&0==(b&15)&&(a=Date.now()),this.ua=!1,this.k.render(),this.ge&&0==(b&15)&&(a=Date.now()-a,console.log(a+"mS/frame:  "+1E3/a+" frame/S")),b++}},a);c()};!N("Android")||fc()||N("Firefox")||dc();fc();var ve=N("Safari")&&!(fc()||N("Coast")||dc()||ec()||N("Silk")||N("Android"))&&!(N("iPhone")&&!N("iPod")&&!N("iPad")||N("iPad")||N("iPod"));function we(){this.Ub=this.Tb=0;this.Vd=this.Vc=!1;this.Gb=xe;this.qe=cb+"cursor-orbit.png";this.Gf=cb+"cursor-pan.png";this.bb=new hc(0,0,0,0);this.i=new Ba;this.kf=new H(0,0,0);this.Ud=new H(0,0,0);this.fc=new Ia([0,0,0],[0,0,1]);this.e=new G(0,0,0);this.m=new G(0,0,0);this.jd=new THREE.Matrix4;this.ta=new THREE.Vector3}B(we,Za);var xe="unknown";g=we.prototype;g.typeName="iCameraTool";g.Ye=function(a){a.$b(this.qe)};g.$e=function(a){a.$b(null)};
g.dd=function(a,b,c){var d=this.bb,e=a.A.va();d.x=0;d.y=0;d.width=e.width;d.height=e.height;this.Vd=ye(this,a);this.Tb=b;this.Ub=c;this.Vc=!0};g.Sd=function(a){this.Vc&&a.la(null,!0);this.Vc=!1;this.Gb=xe};g.cf=function(a,b,c,d){this.dd(a,b,c,d)};g.df=function(a,b,c,d){this.Sd(a,b,c,d)};
g.Td=function(a,b,c,d){if(this.Vc)if(this.Vd){var e=b-this.Tb,f=c-this.Ub;this.Tb=b;this.Ub=c;if(0!=e||0!=f){a.Va(this.i);if(d.shiftKey)a:{if("dolly"!=this.Gb){f=ze(a,this.Tb-e,this.Ub-f,!0);if(4==f.$)break a;1==f.$?this.fc.set(f.Qb,this.i.B):(b=.5*(f.ia.Ic+f.ia.Hc),this.e.copy(f.N),this.e.scale(b),ya(this.kf,f.R,this.e),this.fc.set(this.kf,this.i.B));this.Gb="dolly"}f=Ae(a,this.Tb,this.Ub);d=this.fc;var e=f.ia.R,h=f.ia.N;b=!1;var k=Number.NaN;c=oa(d.normal,h);Math.abs(c)>d.Zf&&(d=h.x*(d.position.x-
e.x)+h.y*(d.position.y-e.y)+h.z*(d.position.z-e.z),b=!0,k=d/c);b&&(this.e.copy(f.ia.N),this.e.scale(k),ma(this.m,f.ia.R,this.fc.position),this.e.add(this.m),f=oa(this.fc.normal,this.e),this.m.copy(this.i.B),this.m.scale(f),f=this.e,b=this.m,f.x-=b.x,f.y-=b.y,f.z-=b.z,this.e.reverse(),this.i.v.move(this.e),a.la(this.i,!1))}else if(d.altKey)this.Gb="pan",na(this.e,this.i.H,this.i.B),this.m.copy(this.i.H),this.e.scale(-f),this.m.scale(e),this.e.add(this.m),this.e.normalize(),Be(this,this.i.v,this.e,
Math.sqrt(e*e+f*f)/this.bb.height*Math.PI*.25);else if(b=e,this.Gb="orbit",this.e.set(0,0,1),na(this.e,this.i.B,this.e),c=this.e.getLength(),b*=c,0!=b||0!=f)na(this.e,this.i.H,this.i.B),this.m.copy(this.i.H),this.e.scale(f),this.m.scale(-b),this.e.add(this.m),this.e.normalize(),Be(this,this.Ud,this.e,Math.sqrt(b*b+f*f)/this.bb.height*Math.PI*.5);a.la(this.i,!1)}}else this.Vd=ye(this,a),this.Tb=b,this.Ub=c};
g.ef=function(a,b,c,d,e){this.Gb="zoom";var f=.01*d;ve?(f=.002*d,e.Ha.webkitDirectionInvertedFromDevice&&(f=-f)):yc&&(f=-f);f=Math.max(Math.min(f,.1),-.1);a.Va(this.i);b=ze(a,b,c);if(4!=b.$){if(this.i.mb){c=1+f;if(1>c&&(.1>this.i.U.h||.1>this.i.U.w))return;this.i.U.h*=c;this.i.U.w*=c;3!=b.$&&(ma(this.e,b.Qb,this.i.v),b=oa(this.e,this.i.B),this.m.copy(this.i.B),this.m.scale(b),c=b=this.e,d=this.m,b.x=c.x-d.x,b.y=c.y-d.y,b.z=c.z-d.z,this.e.scale(-f),this.i.v.move(this.e))}else 3!=b.$&&(ma(this.e,b.Qb,
this.i.v),2==b.$&&(b=b.ia.Hc-b.ia.Ic,this.e.Pe()>b*b&&(b/=this.e.getLength(),this.e.scale(b)),0>oa(this.e,this.i.B)&&this.e.reverse()),this.e.scale(-f),this.i.v.move(this.e));a.la(this.i,!0)}};g.af=function(a,b,c,d){16==b&&(a.$b(this.Gf),d.preventDefault())};g.bf=function(a,b,c,d){16==b&&(a.$b(this.qe),d.preventDefault())};
function Be(a,b,c,d){a.ta.set(c.x,c.y,c.z);a.jd.makeRotationAxis(a.ta,d);a.e.copy(a.i.H);a.ta.subVectors(a.i.v,b);a.ta.applyMatrix4(a.jd);ya(a.i.v,b,a.ta);a.ta.copy(a.i.B);a.ta.applyMatrix4(a.jd);a.i.B.copy(a.ta);a.ta.copy(a.i.H);a.ta.applyMatrix4(a.jd);a.i.H.copy(a.ta);a.m.set(a.e.x,a.e.y,a.e.z);a.e.set(-a.i.B.y,a.i.B.x,0);1E-6<a.e.x*a.e.x+a.e.y*a.e.y?(na(a.i.H,a.i.B,a.e),a.i.H.normalize(),0>oa(a.i.H,a.m)&&a.i.H.scale(-1)):(na(a.e,a.m,a.i.B),1E-6<a.e.Pe?(na(a.i.H,a.i.B,a.e),a.i.H.normalize()):(a.e.set(a.i.B.z,
0,-a.i.B.x),na(a.i.H,a.i.B,a.e),a.i.H.normalize(),0>oa(a.i.H,a.m)&&a.i.H.scale(-1)))}function ye(a,b){var c=ze(b,a.bb.x+.5*a.bb.width,a.bb.y+.5*a.bb.height,!0);if(4==c.$)return!1;if(3!=c.$)return a.Ud.copy(c.Qb),!0;var d=.5*(c.ia.Ic+c.ia.Hc);a.e.copy(c.N);a.e.scale(d);ya(a.Ud,c.R,a.e);return!0}
function ze(a,b,c,d){b=Ae(a,b,c);a=b.ia;var e={};e.Of=d;a:{d=b.Xf;d.O.$=3;d.O.nh=void 0;d.O.ia=a;d.O.R.copy(a.R);d.O.N.copy(a.N);if(p(d.ya)){if(b=Math.floor(a.we/d.ye*d.Q),c=Math.floor(a.xe/d.ve*d.Q),c=d.Q-c-1,kb(d,b,c,a),1!=d.O.$&&(e||{}).Of)for(var e=[[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1],[0,1],[1,1]],f=1;f<d.Q;f++)for(var h=0;h<e.length;h++)if(kb(d,b+f*e[h][0],c+f*e[h][1],a),1==d.O.$){a=d.O;break a}}else d.O.$=4;a=d.O}return a};function Ce(a,b){this.xg=a;this.A=a.A;this.eg=b;this.vc=[];this.Bf={};this.Bf.Orbit=new we;this.ng=new od(b);this.If="tripleclick";this.pe="mousewheel";Q(b,"click dblclick mousedown mouseup mousemove mouseout keydown keyup keypress touchstart touchmove".split(" "),this.Qe,!1,this);Q(this.ng,this.pe,this.Qe,!1,this)}g=Ce.prototype;g.typeName="iToolManager";g.$b=function(a){this.xg.$b(a)};g.Va=function(a){this.A.Va(a)};g.la=function(a,b){this.A.la(a,b)};
function Ae(a,b,c){a.A.ja(!0);a=a.A;p(a.k)&&a.k.Ie(b,c,a.jf);b={};b.ia=a.jf;b.Xf=a.Oa;return b}
g.Qe=function(a){var b,c,d=this.vc[this.vc.length-1];if(d){if("mousedown"==a.type){a:{b=a.button;if(this.Pd){var e=new Date;if(200>e-this.Pd&&b==this.ig){if(this.ld++,3==this.ld){this.ld=1;b=!0;break a}}else this.ld=1;this.ig=b;this.Pd=e}else this.Pd=new Date,this.ld=1;b=!1}b&&(a.type=this.If);this.eg.focus()}switch(a.type){case "mouseout":case "mouseup":0==a.button?d.Sd(this,a.clientX,a.clientY,a):2!=a.button&&d.df(this,a.clientX,a.clientY,a);break;case "mousedown":0==a.button?d.dd(this,a.clientX,
a.clientY,a):2!=a.button&&d.cf(this,a.clientX,a.clientY,a);break;case "touchstart":case "touchmove":c=e=a.Ha;0==e.type.lastIndexOf("touch",0)&&(c="touchend"==e.type||"touchcancel"==e.type?e.changedTouches[0]:e.targetTouches[0]);b=c.clientX;c=c.clientY;"touchstart"===a.type?d.dd(this,b,c,e):d.Td(this,b,c,e);break;case "mousemove":d.Td(this,a.clientX,a.clientY,a);break;case "keydown":d.af(this,a.keyCode,String.fromCharCode(a.keyCode),a);break;case "keyup":d.bf(this,a.keyCode,String.fromCharCode(a.keyCode),
a);break;case this.pe:d.ef(this,a.clientX,a.clientY,a.deltaY,a)}a.Ha instanceof KeyboardEvent||a.preventDefault()}};function De(a,b){var c=b||{};hb(c);this.Be=a;this.vd=c.XMLHttpRequestClass||XMLHttpRequest;this.le=this.o=this.A=this.f=null;this.Ge=new nd;this.$a=null;Uc(Zc,"Sketchup_all_textures_ready",function(){null!=this.$a&&this.$a.dispatchEvent("api_on_load_complete")},!1,this);Q(Zc,["SkjReader_Error","TextureManager_Error"],this.Ge,!1);this.qf=y(this.rg,this)}g=De.prototype;g.typeName="iViewer";g.Ib=function(){Ee(this);null!=this.A&&this.A.resize(window.innerWidth,window.innerHeight);Q(window,"resize",this.qf)};
g.Zb=function(a,b){Ee(this);null!=this.A&&this.A.resize(a,b);Vc(window,"resize",this.qf)};g.Nb=function(){return this.f};g.pc=function(){return null!=this.f?Md(this.f):[]};g.Qc=function(a,b){if((b||{}).enableTransition){var c=this.A,d;if(d=p(c.K)&&!c.K.Ra)a:{d=c.K;for(var e=0,f=d.u.length;e<f;e++)if(d.u[e].tag==a){d=!0;break a}d=!1}d?c.K.nd(c.k,c.f,1,a):re(c,a)}else re(this.A,a)};g.ja=function(){this.A.ja(!0)};
g.tb=function(a,b,c,d,e){if(null!=this.A&&0<b&&0<c){var f=y(function(b,c,e){ab.width=c;ab.height=e;var f=bb.createImageData(c,e);c*=4;e=(e-1)*c;for(var r=0;r<=e;r+=c)for(var z=e-r,x=0;x<c;x+=4){var D=z+x,t=r+x;f.data[D++]=b[t++];f.data[D++]=b[t++];f.data[D++]=b[t++];f.data[D]=b[t]}bb.putImageData(f,0,0);b=ab.toDataURL();d(a,b)},this);se(this.A,b,c,f,a,e)}else p(e)&&e(a)};A("sketchup.Viewer.prototype.requestThumbnailForScene",De.prototype.tb);
De.prototype.$b=function(a){null!=this.o&&(this.o.style.cursor=null!=a?"url("+a+") 23 23, default":"default")};
function Fe(a,b,c,d){null!=a.A&&ne(a.A);a.Ze=c;a.Ge.reset();a.f=void 0;var e=new Qd(a.vd),f=["SkjReader_Viewable","SkjReader_Error"],h=null,h=function(a){"SkjReader_Viewable"==a.type?(this.f=a=e.Nb(),me(this.A,a),a=this.A,a.Hb||null==a.k||(a.Hb=!0,a.ua=!0,ue(a)),null!=this.$a&&this.$a.dispatchEvent("api_model_viewable"),null!=this.Ze&&this.Ze()):p(d)&&"SkjReader_Error"==a.type&&(d(),null!=this.$a&&this.$a.dispatchEvent("api_on_load_failed"));Vc(Zc,f,h,!1,this)};Uc(Zc,f,h,!1,a);Ee(a);e.load(b)}
De.prototype.rg=function(){null!=this.A&&this.A.resize(window.innerWidth,window.innerHeight)};De.prototype.Cc=function(){null!=this.A&&this.A.Cc()};function Ee(a){if(null==a.o){a.o=document.createElement("canvas");a.o.setAttribute("id","skjWebGlCanvas");a.Be.appendChild(a.o);a.A=new le(a.o);a.le=new Ce(a,a.Be);var b=a.le;for(a=a.le.Bf.Orbit;b.vc.length;){var c=b,d=c.vc.pop();d&&d.$e(c)}b.vc.push(a);a.Ye(b)}};function X(a,b){S.call(this);this.kb=new De(a,b);this.kb.$a=this}B(X,S);A("sketchup.api.Viewer",X);X.prototype.typeName="Viewer";X.prototype.typeName=X.prototype.typeName;X.prototype.Zb=function(a,b){this.kb.Zb(a,b)};X.prototype.setCanvasSize=X.prototype.Zb;X.prototype.Ib=function(){this.kb.Ib()};X.prototype.fillWindow=X.prototype.Ib;
X.prototype.kg=function(a,b,c){p(b)&&console.log("OBSOLETE -sketchup.api.Viewer.prototype.loadFromUri:\nCallback functions opt_onModelReady and opt_onFailure are goingaway. Listen for related events with the Viewer as target instead.");Fe(this.kb,a,b,c)};X.prototype.loadFromUri=X.prototype.kg;X.prototype.pc=function(){return this.kb.pc()};X.prototype.getScenes=X.prototype.pc;X.prototype.tb=function(a,b,c,d,e){this.kb.tb(a,b,c,d,e)};X.prototype.requestThumbnailForScene=X.prototype.tb;
X.prototype.Qc=function(a,b){return this.kb.Qc(a,b)};X.prototype.goToScene=X.prototype.Qc;function Ge(a){S.call(this);this.T=a.T}B(Ge,S);A("sketchup.api2.ThumbnailGenerator",Ge);Ge.prototype.tb=function(a,b,c){function d(a){var b=new pb("error");b.Ed=a;this.dispatchEvent(b)}function e(a,b){var c=new pb("thumbnail_ready");c.Ed={sceneId:a,imageData:b};this.dispatchEvent(c)}return 16<=b&&1024>=b&&16<=c&&1024>=c?(this.T.tb(a.de,b,c,y(e,this),y(d,this)),!0):!1};Ge.prototype.requestThumbnailForScene=Ge.prototype.tb;function Y(a){this.T=a}A("sketchup.api2.View",Y);Y.prototype.dg=function(a,b){this.T.Qc(a.de,b)};Y.prototype.gotoScene=Y.prototype.dg;Y.prototype.Kf=function(a){this.T.A.nd(!!(a||{enableLoopMode:!1}).enableLoopMode)};Y.prototype.animateAllScenes=Y.prototype.Kf;Y.prototype.ja=function(){this.T.ja()};Y.prototype.stopAnimation=Y.prototype.ja;function Z(a,b){S.call(this);this.T=new De(a,b);this.Ad=this.f=null;Q(Zc,["SkjReader_Viewable","Sketchup_all_textures_ready","SkjReader_Error","Sketchup_animation_started","Sketchup_animation_stopped"],function(a){switch(a.type){case "SkjReader_Viewable":this.dispatchEvent("model_viewable");break;case "Sketchup_all_textures_ready":this.dispatchEvent("model_complete");break;case "SkjReader_Error":this.dispatchEvent("model_load_error");break;case "Sketchup_animation_started":this.dispatchEvent("animation_started");
break;case "Sketchup_animation_stopped":this.dispatchEvent("animation_stopped")}},!1,this)}B(Z,S);A("sketchup.api2.WebViewer",Z);Z.prototype.cg=function(){return 1};Z.prototype.getVersionInfo=Z.prototype.cg;Z.prototype.Zb=function(a,b){this.T.Zb(a,b)};Z.prototype.setCanvasSize=Z.prototype.Zb;Z.prototype.Ib=function(){this.T.Ib()};Z.prototype.fillWindow=Z.prototype.Ib;Z.prototype.lg=function(a){this.f=null;Fe(this.T,a)};Z.prototype.loadModelFromUri=Z.prototype.lg;
Z.prototype.Nb=function(){var a;if(a=null==this.f)a=null!=this.T.Nb();a&&(this.f=new W(this.T));return this.f};Z.prototype.getModel=Z.prototype.Nb;Z.prototype.$f=function(){null==this.Ad&&(this.Ad=new Y(this.T));return this.Ad};Z.prototype.getCurrentView=Z.prototype.$f;Z.prototype.Cc=function(){this.T.Cc()};Z.prototype.zoomExtents=Z.prototype.Cc;
